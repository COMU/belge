<?xml version="1.0" encoding="UTF-8"?>
<article id="honeypots" lang="tr">
	<articleinfo>
		<title>Balküpleri</title>
		<authorgroup><author role="translator">
				<firstname>Serdar Yiğit</firstname>
				<affiliation>
					<address><email>syigitisk@gmail.com</email></address>
				</affiliation>
			</author><author>
				<firstname>Lance Spitzner</firstname>
				<affiliation>
					<address><email>lance@honeynet.org</email></address>
				</affiliation>
			</author></authorgroup>
		
		<revhistory>
			<para><emphasis role="bold">Bu çevirinin sürüm bilgileri:</emphasis></para>
			<revision>
				<revnumber>1.0</revnumber>
				<date>Kasım 2008</date>
				<authorinitials>SY</authorinitials>
				<revremark>İlk çeviri</revremark>
			</revision>
		</revhistory><revhistory>
			<para><emphasis role="bold">Özgün belgenin sürüm bilgileri:</emphasis></para>
			<revision>
				<revnumber>1.0</revnumber>
				<date>28.05.2003</date>
				<authorinitials>LS</authorinitials>
			</revision>
</revhistory>
<legalnotice><title>Yasal Açıklamalar</title><para>
		Bu belgenin, <emphasis>Balküpleri</emphasis> çevirisinin 1.0 sürümünün <emphasis role="bold">telif hakkı © 2008 <emphasis>Serdar Yiğit</emphasis>'e</emphasis>, özgün İngilizce sürümünün <emphasis role="bold">telif hakkı © 2003 <emphasis>Lance Spitzner</emphasis>'a</emphasis> aittir. Bu belgeyi, Free Software Foundation tarafından yayınlanmış bulunan <link linkend="gpl">GNU Genel Kamu Lisansının</link> 3 ya da daha sonraki sürümünün koşullarına bağlı kalarak kopyalayabilir, dağıtabilir ve/veya değiştirebilirsiniz. Bu Lisansın bir kopyasını <ulink url="http://www.gnu.org/licenses/gpl.html"/> adresinde bulabilirsiniz.
	</para><para>
		BU BELGE "ÜCRETSİZ" OLARAK RUHSATLANDIĞI İÇİN, İÇERDİĞİ BİLGİLER İÇİN İLGİLİ KANUNLARIN İZİN VERDİĞİ ÖLÇÜDE HERHANGİ BİR GARANTİ VERİLMEMEKTEDİR. AKSİ YAZILI OLARAK BELİRTİLMEDİĞİ MÜDDETÇE TELİF HAKKI SAHİPLERİ VE/VEYA BAŞKA ŞAHISLAR BELGEYİ "OLDUĞU GİBİ", AŞİKAR VEYA ZIMNEN, SATILABİLİRLİĞİ VEYA HERHANGİ BİR AMACA UYGUNLUĞU DA DAHİL OLMAK ÜZERE HİÇBİR GARANTİ VERMEKSİZİN DAĞITMAKTADIRLAR. BİLGİNİN KALİTESİ İLE İLGİLİ TÜM SORUNLAR SİZE AİTTİR. HERHANGİ BİR HATALI BİLGİDEN DOLAYI DOĞABİLECEK OLAN BÜTÜN SERVİS, TAMİR VEYA DÜZELTME MASRAFLARI SİZE AİTTİR.
	</para><para>
		İLGİLİ KANUNUN İCBAR ETTİĞİ DURUMLAR VEYA YAZILI ANLAŞMA HARİCİNDE HERHANGİ BİR ŞEKİLDE TELİF HAKKI SAHİBİ VEYA YUKARIDA İZİN VERİLDİĞİ ŞEKİLDE BELGEYİ DEĞİŞTİREN VEYA YENİDEN DAĞITAN HERHANGİ BİR KİŞİ, BİLGİNİN KULLANIMI VEYA KULLANILAMAMASI (VEYA VERİ KAYBI OLUŞMASI, VERİNİN YANLIŞ HALE GELMESİ, SİZİN VEYA ÜÇÜNCÜ ŞAHISLARIN ZARARA UĞRAMASI VEYA BİLGİLERİN BAŞKA BİLGİLERLE UYUMSUZ OLMASI) YÜZÜNDEN OLUŞAN GENEL, ÖZEL, DOĞRUDAN YA DA DOLAYLI HERHANGİ BİR ZARARDAN, BÖYLE BİR TAZMİNAT TALEBİ TELİF HAKKI SAHİBİ VEYA İLGİLİ KİŞİYE BİLDİRİLMİŞ OLSA DAHİ, SORUMLU DEĞİLDİR.
	</para><para>
		Tüm telif hakları aksi özellikle belirtilmediği sürece sahibine aittir. Belge içinde geçen herhangi bir terim, bir ticari isim ya da kuruma itibar kazandırma olarak algılanmamalıdır. Bir ürün ya da markanın kullanılmış olması ona onay verildiği anlamında görülmemelidir.
	</para>
  </legalnotice>
<abstract>
	<para>Balküpü, güvenlik camiası için çok büyük potansiyele sahip heyecan verici yeni bir teknolojidir. Bu konudaki fikirler, bilgisayar güvenliğinde ilk olarak çeşitli simgelerle, özellikle Cliff Stoll tarafından “<ulink url="http://www.amazon.com/exec/obidos/ASIN/0743411463/qid=1006442580/sr=1-1/thehoneynet0c-20">The Cuckoo’s Egg</ulink>” adlı kitapta ve Bill Cheswick’in “<ulink url="http://www.tracking-hackers.com/papers/berferd.pdf">An Evening With Berferd</ulink>” adlı makalesinde belirtilmiştir. O zamandan bu yana balküplerinin geliştirilmesine devam edilmiş ve neticede günümüzün güçlü güvenlik araçları arasına girmeyi başarmıştır. Bu makalenin amacı, balküpünün önemini ve tam olarak ne olduğunu açıklamak, avantajlarını ve  dezavantajlarını ortaya koymaktır.</para>
	
	<para>Bu belgenin ingilizce aslını <ulink url="http://www.tracking-hackers.com/papers/honeypots.html">bu adreste</ulink> bulabilirsiniz.</para>
</abstract>
</articleinfo>
<sect1 id="honeypots-definitions"><title>Tanımlamalar</title>
	<para>Balküplerini anlamak için ilk adım, bir balküpünün ne olduğunu tanımlamaktır.  Tabi bu, kulağa geldiğinden daha zor olabilir. Güvenlik duvarlarından veya izinsiz giriş tespit sistemlerinden farklı olarak balküpleri, belirli bir sorunu çözmezler. Bunun yerine, çok çeşitli tasarımlarda ve büyüklüklerde geliştirilebilecek çok esnek bir araç olarak karşımıza çıkarlar. Balküpleri, IPV6 ağlarında şifrelenmiş atakların tespitinden, çevrimiçi kredi kartlarındaki en yeni hileleri yakalamaya kadar birçok yeteneğe sahiptirler. Onların gerçek gücünü ortaya çıkaran bu esneklikleridir. Aynı zamanda bu esneklik balküplerini tanımlamak ve anlamak için ilgi çekici yapar. Balküpünü tanımlamak için kullandığım aşağıdaki tanımda da olduğu gibi.</para>
	<para><emphasis>Bir balküpü, sahip olduğu kaynağın izinsiz veya yetkisiz kullanımı sırasında, kullananı yanıltacak şekilde cevaplar veren bir bilgi sistemi kaynağıdır.</emphasis></para>
	<para>Bu tanım, balküplerini bütün çeşitleriyle kapsayan, genel bir tanımdır. Biz bu makalede balküplerinin farklı örneklerini ve her birinin güvenlik için önemini ayrı ayrı tartışıyor olacağız. Bütün bu çeşitler yukarıda belirttiğimiz tanımıza uygun olacaklar. Balküpünün ürettiği ve kötü çocuklara döndüğü bu cevaplar onları yanıltacak ve aldatacak biçimdedir. Kavramsal olarak bütün balküpleri aynı prensiple çalışır. Üretimsel değerleri yoktur ve yetkilendirilmiş herhangi bir işe sahip değildirler. Teorik olarak bir balküpü ağ trafiğine sahip olmamalıdır çünkü balküplerinin ağda belli bir aktivitesi yoktur. Bu da  bir balküpüyle gerçekleşen etkileşimlerin neredeyse tamamı kötü amaçlı veya yetkilendirilmemiş anlamına gelir. Balküpüne yapılan bağlantı girişimleri büyük olasılıkla ya bir tarama, ya saldırı ya da uzlaşmadır. Bu kavram bir yandan çok basit görünürken (ve de öyleyken), bir yandan da balküpünün mükemmel avantajlarını (ve dezavantajlarını da) oluşturan temel nedendir.  Bunları aşağıda vurguladım.</para>
	<sect2 id="honeypots-definitions-advantages"><title>Avantajları</title>
		<para>Balküpleri, kendilerine bazı çok güçlü artılar sağlayan çok basit bir fikre ve tasarıma sahiptirler.
			<itemizedlist><listitem><emphasis>Yüksek değerlerin küçük veri parçaları</emphasis> : Balküpleri bilginin küçük miktarlarını biriktirirler. Günde 1GB’lık veri günlüklemek yerine, 1MB’lık veri günlükleyebilirler. Günlük 10.000 uyarı oluşturmak yerine, 10 uyarı oluşturabilirler. Hatırlayalım, balküpleri sadece kötü aktiviteleri yakalarlar, balküpünün yakaladığı herhangi bir etkileşim büyük olasılıkla yetkilendirilmemiş veya izinsiz kötü bir harekettir. Balküpünü, sadece küçük verileri toplayarak kirliliği azaltmaktadır ve bu veriler kötü çocukların gönderdiği yüksek değerlerden elde edilmektedir. Bu da balküpünün topladığı veriyi analiz etmenin ve bu veriden anlam çıkarmanın daha kolay (ve ucuz) olduğunu belirtir.</listitem>
			<listitem><emphasis>Yeni  araçlar ve taktikler</emphasis>  : Balküpleri , daha önce görülmemiş araçları ve taktikleri de içerecek şekilde, kendilerine gelen her şeyi yakalamak için tasarlanmışlardır.</listitem>
			<listitem><emphasis>En düşük kaynaklar</emphasis> : Balküpü sadece kötü aktiviteleri yakaladığından minimum gereksinimlere ihtiyaç duyar. Yani 128MB ramli eski bir Pentium bilgisayar bile, bir OC-12 ağ üzerine kurulu B sınıfı ağın tamamını izleyebilir.</listitem>
			<listitem><emphasis>Şifreleme veya IPV6</emphasis> : İzinsiz giriş tespit sistemleri (IDS) gibi birçok güvenlik teknolojilerinin aksine balküpleri şifrelenmiş veya IPV6’lı ağlarda iyi performans gösterirler.Kötü çocukların ne gönderdiği fark etmeksizin, balküpü onları tespit eder ve yakalar.</listitem>
			<listitem><emphasis>Bilgi</emphasis> : Balküpü, çok derin ve verimli bir şekilde diğer hiçbir teknolojinin toplayamayacağı bilgileri toplar.</listitem>
			<listitem><emphasis>Basitlik</emphasis> : Son olarak, balküplerinin mantığı çok basittir. Geliştirmek için hayali algoritmalara, durum tablolarının bakımını yapmaya, veya imzaları güncellemeye gerek yoktur. Daha basit bir teknoloji, hataların veya yapılandırma eksikliklerinin daha az yaşanma ihtimalinin olduğu bir yaklaşım. </listitem></itemizedlist></para>
	</sect2>	
	<sect2 id="honeypots-definitions-disadvantages"><title>Dezavantajları</title>
		<para>Her teknoloji gibi balküplerinin de kendine göre zayıflıkları  vardır. Süregelen başka bir teknoloji ile değiştirilemezler ama varolan teknolojilerle çalışabilirler.
			<itemizedlist><listitem><emphasis>Kısıtlı görünüm</emphasis> : Balküpleri kendileriyle doğrudan etkileşen aktiviteleri yakalayabilir ve takip edebilirler. Saldırgan balküpü olan bilgisayara da saldırmadığı sürece diğer sistemlere karşı yapılan atakları yakalayamazlar.</listitem>
			<listitem><emphasis>Risk</emphasis> : Bütün güvenlik teknolojileri risk taşır. Güvenlik duvarları içeri sızılmış olma riskine, şifreleme yöntemleri kırılma riskine, IDS sensörleri atak tespitini kaçırma riskine sahiptirler. Balküpleri de farklı olmayıp bazı riskleri göze alırlar. Özellikle balküpleri, kötü çocuk tarafından ele geçirilmiş ve diğer sistemlere zarar vermek için kullanılıyor durumda olma riskine sahiptirler.  Farklı balküpleri için riskler de farklılaşır. Balküpünün tipine bağlı olarak, IDS’den daha az risk taşıyabilir ama bazı balküpleri de gerçekten büyük riskler alırlar.</listitem></itemizedlist></para>
	</sect2>
	<para>Balküpünüzün değerini bu avantaj ve dezavantajları kullanma şekliniz belirler (bu konu üzerinde ileride duracağız).</para>
</sect1>
<sect1 id="honeypots-types"><title>Balküpü Çeşitleri</title>
	<para>Balküpleri çeşitli tasarımlarda ve büyüklüklerde karşımıza çıkabilirler, bu da onları anlaşılması güç yapan bir etmendir. Balküplerini ve farklı tiplerini daha iyi anlamamıza yardımcı olması için balküplerini 2 kategoriye ayırıyoruz ; düşük etkileşimli ve yüksek etkileşimli balküpleri. Bu kategoriler bizim hangi tip bir balküpüyle çalıştığımızı, onun güçlü ve zayıf yönleriyle birlikte anlamamıza yardımcı olur. Etkileşim, bir balküpünün saldırgana verdiği izinin seviyesini tanımlar. Düşük-etkileşimli balküpleri kısıtlı etkileşime sahiptirler, normal şartlarda işletim sistemlerini veya servisleri simule ederek çalışırlar. Saldırganın hareket yetisi balküpünün simulasyon seviyesine göre kısıtlanır. Örnek olarak, 21. portta dinlemede olan bir FTP servisini simule eden balküpü sadece FTP login‘i simule edebilecektir veya diğer eklenmiş çeşitli FTP komutlarını destekleyecektir. Düşük etkileşimli balküpünün avantajı bu basitliğidir. Bu tip balküpleri en düşük seviyede riske sahip olmakla birlikte, geliştirme ve bakıma da daha elverişlidir. Genellikle bir yazılım yüklenmesini bununla birlikte de simule etmek ve izlemek istediğimiz servislerin ve işletim sistemlerinin seçilmesini gerektirirler, bu işlemlerden sonra balküpü çalışmaya başlayabilir. Bu tak ve çalıştır yaklaşımı organizasyonlar için geliştirme aşamasını çok kolaylaştırmaktadır. Simule edilen servisler de  saldırganın hareketlerini kapsayarak riski hafifletir, saldırgan asla diğer bilgisayarlara saldırmak veya zarar vermek amacıyla bir işletim sistemine sahip değildir. Düşük etkileşimli balküplerinin temel dezavantajı, kısıtlı bilgi günlüklemeleri ve bilinen aktiviteyi yakalamak için tasarlanmış olmalarıdır. Çünkü simule eden servislerin yapabileceği sadece budur. Bir saldırgan için düşük-etkileşimli bir balküpünü tespit etmek kolaydır, simulasyon ne kadar iyi olursa olsun fark etmez, deneyimli bir saldırgan er geç balküpünün varlığını fark edecektir. <ulink url="http://www.specter.com/">Specter</ulink>, <ulink url="http://www.citi.umich.edu/u/provos/honeyd/">Honeyd</ulink> ve <ulink url="http://www.keyfocus.net/kfsensor/download/">KFSensor</ulink> gibi araçlar düşük etkileşimli balküpü örneklerdir.</para>
	<para>Yüksek etkileşimli balküpleri ise farklıdır, gerçek işletim sistemleri ve uygulamalar gerektiği için genellikle daha karmaşık çözümler olarak ortaya çıkarlar. Hiçbirşey simule edilmez, saldırgana gerçek bir şeyler veririz. Eğer bir FTP sunucu çalıştıran bir Linux balküpü istiyorsanız, bu sistemi fiziksel olarakta gerçekleştirmeniz gerekir. Bu tarz bir çözümün avantajları 2 şekilde olabilir. Birincisi, çok kapsamlı bir bilgi mktarına sahip olursunuz. Saldırgana etkileşmesi için gerçek bir sistem vermekle de, uluslar arası IRC oturumlarından yeni rootkitlere kadar saldırganın kullandığı yöntemlerin bütün ayrıntılarını öğrenebilirsiniz. İkincisi ise yüksek etkileşimli balküpleri, saldırganın nasıl saldıracağı hakkında tahminde bulunmazlar, bunun yerine saldırganın bütün hareketlerini gösteren açık bir çevre oluştururlar. Bu çözüm yüksek etkileşimli balküplerinin, saldırganın ummadığımız hareketlerini öğrenmesini sağlar. Bunun çok güzel bir örneği, Honeynet‘in standart olmayan IP protokolü üzerindeki <ulink url="http://www.honeynet.org/scans/scan22/">şifrelenmiş arka kapı komutlarını</ulink> nasıl yakaladığıdır (özellikle IP protokolü 11, Network Voice Protocol). Yararının yanında bu çözüm, balküpü olarak kullanılan işletim sisteminin, ağdaki balküpü olmayan sistemlere atak yapmak için kullanılabilme riskini artırır. Sonuç olarak, eklenecek diğer teknolojilerle, saldırganın balküpü olmayan diğer sistemlere zarar vermesinin önüne geçilmelidir. Genelde, yüksek etkileşimli balküpleri, düşük etkileşimli balküplerinin yapabildiği herşeyi ve daha fazlasını yaparlar ama bakımları ve geliştirmesi daha karmaşık olabilir. <ulink url="http://enterprisesecurity.symantec.com/products/products.cfm?ProductID=157">Symantec Decoy Server</ulink> ve <ulink url="http://www.honeynet.org/papers/honeynet">Honeynets</ulink> yüksek etkileşimli balküplerinin örnekleridir. <ulink url="http://www.tracking-hackers.com/solutions/">Honeypot Solutions</ulink> sayfasında düşük ve yüksek öncelikli balküplerinin tamamını içeren bir liste bulabilirsiniz. Şimdi düşük ve yüksek etkileşimli balküplerini daha iyi anlamak için şu 2 örneğe bakalım. Önce düşük etkileşimli balküpü örneği olan honeyd ile başlayacağız.</para>
	<sect2 id="honeypots-types-honeyd"><title>Honeyd : Düşük etkileşimli balküpü</title>
		<para><ulink url="http://www.citi.umich.edu/u/provos/honeyd/">Honeyd</ulink>, düşük etkileşimli bir balküpüdür. Niels Provos tarafından geliştirilmiş, başlangıçta Unix sistemler üzerinde çalışması için tasarlanmış bir açık kaynak yazılımdır (yine de Windows’a port edilmektedir). Honeyd, kullanılmayan IP uzayının devamlı izlenmesi prensibiyle çalışır. IP uzayını devamlı izler ve kullanılmayan bir IP’ye bağlantı girişimi gördüğü zaman, kurban gibi görünmek için saldırganla etkileşime geçer. Varsayılan olarak Honeyd TCP ve UDP portlarına yapılan bütün bağlantıları loglar. Buna ek olarak, TCP 21.portu dinleyen simule bir FTP sunucusu gibi, simule edilen servisleri istediğiniz portları dinlemesi için ayarlayabilrisiniz. Saldırgan simule edilen servisle bağlantı kurduğunda, balküpü hareketleri günlüklemek ve görüntülemekle kalmaz, saldırganın simule edilen servisle olan bütün etkileşimini yakalar. Bir FTP sunucusunun simule edilmesi durumunda, potansiyel olarak saldırganın kullanıcı adı ve parolasını,kullandığı komutları ve belki de ne aradığını ve kimliğini bile öğrenebiliriz. Bütün bunlar balküpünün simulasyon seviyesine bağlıdır. Bütün simule servisler aynı yolla çalışır; özel bir davranış tipini bekleyip önceden belirlenmiş bir yolla cevap vermeye programlanmışlardır. ”Eğer atak A bunu yapıyorsa, şöyle bir yolla tepki ver”, “Eğer atak B böyle yapıyorsa, şöyle bir yolla cevap ver” gibi. Bu çözümdeki kısıtlama ise, saldırganın, balküpünün beklemediği bir şekilde davranması halinde, balküpünün nasıl cevap vereceğini bilememesidir. Honeyd dahil bütün düşük etkileşimli balküpleri bu durumda basit bir hata mesajı oluştururlar. Linkteki <ulink url="http://www.tracking-hackers.com/papers/ftp.txt">kaynak kodu</ulink> inceleyerek, simule bir FTP servisin Honeyd için hangi komutları gerçekleştirebildiğini görebilirsiniz.</para>
		<para>Honeyd gibi bazı balküpleri , sadece servisleri değil, gerçek işletim sistemlerini de simule ederler. Başka bir deyişle balküpü, saldırgana Cisco yönlendirici, WinXP sunucu veya Linux DNS sunucu gibi görünebilir. Farklı işletim sistemlerini simule etmenin birçok farklı avantajı vardır. Birincisi, eğer balküpü de etkin çalışan sistemlerin davranışlarına ve oluşumuna sahip olursa, varolan ağla daha iyi uyum sağlar. İkincisi, saldırganların özellikle hedef seçtikleri sistemleri ve servisleri simule ederek, hedef aldığınız saldırgana özel bilgi edinebililrsiniz. İşletim sistemlerini simule etmek için 2 yol vardır. Birincisi simule edilen servisler yoluyla gerçekleştirilebilir. Saldırgan simule edilen bir servise bağlandığında, bu servisin özel bir işletim servisi gibi görünmesini ve davranmasını sağlayabilirsiniz. Örnek olarak, eğer bir web sunucusu simule eden bir servisiniz varsa ve balküpünüzün bir win2000 sunucu gibi görünmesini istiyorsanız, bu durumda bir IIS’in davranışlarını simule edersiniz. Linux içinse, Apache web sunucusunun davranışlarını simule edersiniz. Tüm balküpleri işletim sistemlerini bu anlamda simule ederler. Bazı sofistike balküpleri, bu simulasyonu bir adım ileride gerçekleştirirler (Honeyd’nin yaptığı gibi). Yapabildikleri sadece servis seviyesinde değil IP yığını seviyesinde simule etmektir. Eğer birisi balküpünüzün işletim sisteminin ne olduğuna karar vermek için nmap gibi “<ulink url="http://www.insecure.org/nmap/">active printing</ulink>” ölçümlerini kullanıyorsa, balküpünüz hangi işletim sistemi üzerine kurulmuş olursa olsun IP yığını seviyesinde cevap gönderir. Honeyd sadece servisleri simule etmeyerek ama işletim sisteminin davrandığı gibi IP yığını seviyesinde simulasyon yaparak cevapları yanıltır. Simulasyonun ve karmaşıklığın seviyesi hangi balküpü teknolojisini kullanmak için seçtiğinize bağlıdır.</para>
	</sect2>
	<sect2 id="honeypots-types-honeynet"><title>Honeynets : Yüksek etkileşimli balküpü</title>
		<para><ulink url="http://www.honeynet.org/papers/honeynet/">Honeynets</ulink>  yüksek etkileşimli balküplerinin ilk örnekleridir. Honeynet bilgisayarınıza yükleyeceğiniz bir yazılım çözümü veya bir ürün değildir. Bunun yerine honeynet, saldırganların atak yapması için tasarlanmış bütün bir bilgisayar mimarisidir. Anafikir, devamlı kontrol  altında tutulan bir ağa sahip olmamızı sağlayan ve bu ağın bütün hareketlerinin kontrolünü ve günlüklemesini yapan bir mimariye sahip olmaktır. Bu ağın içine gerçek uygulamalar  çalıştıran gerçek işletim sistemlerimizi ve kendi kurbanlarımızı yerleştiririz. Kötü çocuklar kendi girişimleriyle bu sistemleri bulur, atak yapar ve kırarlar. Bunu yaptıklarında ise Honeynet ile alakadar olduklarının farkında değildirler. Şifrelenmiş SSH oturumlarından elektronik postalarına ve dosya yüklemelerine kadar her yaptıkları saldırganlar farketmeden günlüklenir ve yakalanır. Bütün bu iş, saldırganın bütün hareketlerini yakalayan, kurban olarak seçtiğimiz sistemler üzerine eklenmiş kernel modülleri tarafından gerçekleştirilir. Honeynetler saldırganın hareketlerini de kontrol ederler. Honeynetler bunu bir Honeywall ağ geçidi kullananarak yaparlar. Bu ağ geçidi kurban sistemlerle gelen trafiğe izin verir ama giden trafiği, izinsiz girişimleri engelleme teknolojisi ile denetler. Bu ise saldırgana kurban sistemlerle etkileşime geçme esnekliği verirken saldırganın honeynet olmayan diğer bilgisayarlara zarar vermesini engeller. Honeynet’e bir örnek olarak aşağıdaki şekil incelenebilir.
			<mediaobject id="honeypots-types-image">
				<imageobject><imagedata fileref="honeypots/figureA.jpg" align="center" scalefit="1"/>
				</imageobject></mediaobject></para>
	</sect2>	
</sect1>
<sect1 id="honeypots-value"><title>Balküplerinin Önemi</title>
	<para>Artık balküplerinin 2 genel kategorisini de anlayabildiğimizden,  onların esas önemine odaklanabiliriz. Özelikle onları nasıl kullanabileceğimize. Bir kez daha, 2 genel kategorimiz var, balküpleri üretim amaçlı veya araştırma için  kullanılabilirler. Üretim amaçlı kullanıldıklarında balküpleri bir organizasyonu korurlar. Bu koruma, önleme, tespit etme veya organizasyonlara bir atağa cevap vererek yardımcı olma şeklinde olabilir. Araştırma amaçlı kullanıldıklarında, balküpleri bilgi toplamak için kullanılırlar. Bu bilgiler farklı organizasyonlar için farklı değere sahiptir. Bazıları saldırgan hareketlerindeki gidişat üzerine çalışmak isterken, bazıları erken uyarı ve tahmin veya kanun yaptırımıyla ilgili olabilirler. Genelde, yüksek etkileşimli balküpleri araştırma amaçlı kullanılırlarken, düşük etkileşimli balküpleri üretim amaçlı kullanılırlar. Buna rağmen iki tip balküpü de her iki amaç için de kullanılabilir. Üretim amaçlı kullanıldıklarında balküpleri organizasyonları şu 3 yoldan biriyle koruyabilirler; engelleme, tespit etme ve cevap verme. Biz bir balküpünün bu üçü içinde nasıl çalıştığına derin bir bakış atacağız. </para>
	<para>Balküpleri atakları engellemeye birçok yolla yardım ederler. Birincisi solucanlar  (worms) ve otomatik root oluşturuculara (automatic rooters) karşıdır. Bu tarz ataklar, savunmasız bir sistem bulmak için bütün ağı rastgele arayan araçlarla yapılmaktadır. Eğer zayıf sistem bulunursa, bu otomatikleştirilmiş araçlar saldırıya geçip sistemi ele geçirirler (solucanların kendini çoğaltması veya kurban sisteme kopyalamasıyla). Bu gibi ataklara karşı balküplerinin yapabileceği bir savunma yolu solucanların tarama hızını düşürmek hatta imkan dahilinde durdurmaktır. Bu balküpleri yapışkan olarak çağırılırlar ve kullanılmayan IP uzayını görüntülerler. Bahsettiğimiz gibi tarama hareketlerinden biriyle karşılaştıklarında, etkileşime geçip saldırganı yavaşlatırlar. Bu işi ise “tutucu şablona hapsetmek”, “sıfırın Windows boyutu” gibi çeşitli TCP hileleri kullanarak yaparlar. Bu, organizasyonuna sızmış bir solucanın yayılmasını yavaşlatmak veya engellemek için mükemmeldir. Bu  yapışkan balküpünü gerçekleştiren güzel bir örnek  “<ulink url="http://labrea.sourceforge.net/">LaBrea Tarpit</ulink>”tir. Yapışkan balküpleri çoğu zaman düşük etkileşimlidir (saldırganları emeklemeye doğru yavaşlattıklarından yapışkan balküplerini etkileşimsiz balküpleri olarak da adlandırılabilirler). Balküpleri organizasyonunuzu insan saldırganlardan da koruyor olabilirler. Burdaki  mantık aldatma veya caydırmadır. Anafikir, saldırganın bütün kaynaklarını ve zamanını balküpüne harcatarak kafasını karıştırmaktır. Bu arada, organizasyonunuz saldırganın hareketlerini tespit etmiş, saldırgana cevap vermek ve durdurmak için gerekli zamana da sahip olmuş olur. Bu yaklaşım da bir adım ilerletilebilir. Eğer saldırgan organizasyonunuzun balküpü kullandığını biliyorsa ama hangi sistemlerin balküpü hangi sistemlerinse normal bilgisayarlar olduğunu bilmiyorsa, balküpleri tarafından yakalanma şüphesine düşüp sisteminize saldırmama kararı alabilir. Bu yüzden balküpleri saldırganı caydırır. Bunu yapmak için tasarlanmış bir düşüş etkileşimli balküpü olan <ulink url="http://www.all.net/dtk/index.html">Deception Toolkit</ulink>‘tir.</para>
	<para>Balküplerinin bir organizasyonun korunmasına yardım edebileceği ikinci yol ise doğrudan tespittir (through detection). Tespit etme kritiktir, amacı engellemelerdeki kırılmaları veya çökmeleri tanımlamaktır. Organizasyonlar ne kadar güvenli olursa olsun, işin içinde insanların olması gerekiyorsa, başka bir nedene gereksinim duymaksızın orda her zaman çökmeler olacaktır. Saldırganı tespit ederek, ona kolayca cevap verebilir, verecekleri zararı azaltabilir veya durdurabilirsiniz. Geleneksel olarak, tespit etmenin gerçekleştirilmesi zor olduğu kanıtlanmış bir olaydır. IDS sensörleri ve sistemleri gibi teknolojiler, birçok  nedenden dolayı başarısız günlükleme yapmaktadırlar. Bu gibi teknolojilerin çok fazla veri günlüklemesi, olumlu sonuçların yanlış ve geniş bir yüzdesini oluşturmaları, yeni atakları tespit etmekte, şifrelenmiş ortamlarda veya IPV6 çevresellerinde çalışmakta yetersiz olmaları başlıca eksiklikleridir. Balküpleri tespit etme ve geleneksel tespit mekanizmasının sorunlarını gidermekte iyi çalışırlar. Balküpleri yüksek değerlerin küçük veri parçalarını yakalayarak, polimorfik shellcode veya yeni dinamitler (exploits) gibi bilinmeyen atakları yakalayarak, IPV6 ile  ve şifrelenmiş ortamlarda iyi çalışarak, doğrulukların sahteliğini en aza indirirler. Bu konu hakkında daha fazlasını <ulink url="http://www.securityfocus.com/infocus/1690">Honeypots: Simple, Cost Effective Detection</ulink> adlı makalede bulabilirsiniz. Genelde, tespit için en iyi çözümleri düşük etkileşimli balküpleri sağlamaktadırlar. Riskleri daha düşüktür, geliştirmesi ve bakımı da yüksek öncelikli balküplerinden daha kolaydır.</para>
	<para>Balküplerinin bir organizasyonun korunmasına yardım edebileceği üçüncü ve son yol ise karşılık vermedir. Organizasyon bir kez bir çöküş tespit ettiğinde nasıl cevap vermelidir? Bu bir organizasyonun karşılaşacağı en büyük meydan okumalardan biridir. Genellikle saldırganın kim olduğuyla, nasıl sızdığıyla ve de ne kadar zarar verdiğiyle alakalı çok az bir bilgi olur. Bu gibi durumlarda saldırganın hareketleri üzerine toplanmış detaylı bilgi çok kritiktir. Yanıtların oluş sıklıklarının birleştirilmesinde iki zorlukla karşılaşılır. Birincisi, ele geçirilmiş sistemlerin çoğu analiz için çevrimdışı hale getirilemezler. Organizasyonun elektronik posta sunucuları gibi üretim sistemleri, ele geçirildiği düşünülmesi bile çok kritik sistemlerdir, güvenlik uzmanları sistemi kapatmakta ve düzgün bir yasal çözümleme yapmakta başarılı olamayabilirler. Bunun yerine, üretim sistemlerini korur haldeyken ayakta duran sistemi analiz etmekle sınırlıdırlar. Bu da, sistemde ne olduğunu, saldırganın ne kadar zarar verdiğini, hatta saldırganın sisteminizi kırıp kırmadığını analiz etmek için  gerekli gücü  felce uğratır. Bir diğer problem ise sistem çevrimdışı  olsa bile, kötü çocuğun ne yaptığına karar verilmesini zorlaştıracak kadar çok fazla veri kirliliği olacaktır. Veri kirliliğinden kastım, hangisinin normal günlük hareket hangisinin de  saldırganın hareketi olduğuna karar vermemizi zorlaştıracak kadar çok veri olmasıdır. Balküpleri her iki problemi de tespit etmeye yardım ederler. Balküpleri, günlük iş operasyonlarını karıştırmadan bütün bir yasal analiz alabilmemiz için , sistemi kolay ve hızlıca çevrimdışı yapabilecek mükemmel bir kurtarma aracı olabilirler. Bunun yanında balküpünün yakaladığı bütün hareketler kötü niyetli veya  yetkisiz hareketlerdir. Bu nedenden dolayı, kırılmış balküplerini analiz etmek, kırılmış sistemleri analiz etmekten daha kolaydır ve balküpünden elde ettiğiniz herhangi bir bilgi büyük ihtimalle saldırganla alakalıdır. Balküplerinin buradaki önemi, organizasyonların bu tip olaylara karşı vermesi gereken hızlı ve etkili tepki için gerekli bilgiyi hemen sağlamasından doğar.  Genelde, cevap için en iyi çözümü yüksek etkileşimli balküpleri gerçekleştirirler. Saldırgana cevap vermek için, hangi araçları kullandıklarının, sistemi nasıl kırdıklarının ve ne yaptıklarının derinleme bilgisine  ihtiyacınız vardır. Bu tarz bir veri ihtiyacı için de  yüksek-etkileşimli balküplerinin yeteneklerine ihtiyacınız vardır.</para>
	<para>Bu noktaya kadar balküplerinin organizasyonları nasıl koruyabileceğinden bahsettik. Şimdi balküplerinin farklı bir kullanım şeklini konuşacağız; araştırma. Balküpleri sadece organizasyonları korumak için değil, tehditlerden çok ileri seviyede bilgiler elde etmek için de kullanılabilen, diğer çok az sayıda teknolojinin elde edebileceği güce sahiptir. Güvenlik uzmanlarının karşılaştığı en büyük problemlerden biri siber tehditler üzerindeki bilgi eksikliğidir. Saldırganın kim olduğunu bile bilmeden ona karşı nasıl  savunma yapabiliriz? Yüzyıllardan beri askeri organizasyonların temeli, düşmanlarının kim olduğunu ve onlara karşı nasıl savunma geliştireceklerini daha iyi anlamak için gerekli olan bilgiye dayanırdı. Bilgi güvenliği neden bundan farklı olsun ki? Araştırma amaçlı kullanılan balküpleri bu işi tehditlerden bilgiler toplayarak yaparlar. Bu bilgiler daha sonra erken uyarı ve engelleme, saldırganları ve topluluklarını belirleme, yeni metodların ve araçların belirlenmesi ve yeni trendlerin tespit edilmesi gibi birçok amaç için kullanılabilirler. Balküplerinin araştırma amaçlı kullanılmasını çok güzel gerçekleştirmiş, fazlaca tanınan bir araç olan <ulink url="http://www.honeynet.org/">Honeynet Projesi</ulink> gönüllece gerçekleştirilmiş ve kar amacı gütmeyen bir güvenlik araştırma projesidir. Honeynetle tarafından toplanan bütün bilgiler dünyaya dağıtılmaktadır. Tehditler devamlı değiştiği sürece, bu bilgiler de gittikçe kritik hale gelmektedir.</para>
</sect1>
<sect1 id="honeypots-getting-started"><title>Bağlangıç</title>
	<para>Daha önce balküpleriyle hiç çalışmadıysanız ve daha fazla öğrenmek istiyorsanız, Windows kullanıcıları için KFSensor veya Specter, Unix kullanıcıları için Honeyd gibi düşük etkileşimli balküpleriyle başlamanızı öneririm. Hatta Linux bilgisayarlar için Honeyd'yi kolay geliştirmek amacıyla tasarlanmış <ulink url="http://www.tracking-hackers.com/solutions/honeyd/">Honeyd Linux Toolkit</ulink> adlı bir araç bile vardır. Düşük etkileşimli balküpleri, saldırganın hareketlerini de takip etmekle birlikte daha az risk ve kolay geliştirme avantajlarına sahiptir. Düşük etkileşimli balküpleriyle bir kere çalışma fırsatı elde ettiğiniz zaman, yüksek etkileşimli balküpü geliştirmek için gerekli olan becerileri ve anlama kabiliyetini kazanmış olursunuz. Balküplerini daha iyi anlamanıza yardım etmek için, aşağıdaki tablo nelerden bahsettiğimizi özetlemektedir.</para>
	<para>
		<table pgwide="1"><title>Balküpü Tipleri</title>
			<tgroup cols='1' align='left' colsep='1' rowsep='1'>
				<tbody>
					<row><entry><para><emphasis role="bold">Düşük Etkileşimli Balküpleri</emphasis></para><para>Çözüm işletim sistemlerini ve servisleri simule eder.</para>
						</entry><entry><para><emphasis role="bold">Yüksek Etkileşimli Balküpleri</emphasis></para><para>Simulasyon yoktur, gerçek işletim sistemleri ve servisler kullanılır.</para>
						</entry></row><row><entry><para>
								<itemizedlist><listitem>Yüklemesi ve geliştirmesi kolay, genelde bilgisayara bir yazılım yüklenmesini ve yapılandırmasını gerektirir.</listitem>
								<listitem>Simule servislerin, saldırganın ne yapıp ne yapamayacağını kontrol etmesiyle birlikte en az risk içerir.</listitem>
								<listitem>Bilginin, ana işlemsel verisini ve kısıtlı etkileşimin küçük bir miktarını yakalar.</listitem></itemizedlist></para>
						</entry><entry><para>
								<itemizedlist><listitem>Yeni araçları ve toplulukları, saldırganın atak çeşitlerini de içerecek şekilde çok daha fazla bilgi yakalar.</listitem>
								<listitem>Geliştirmesi veya yüklemesi  karışık olabilir (Ticari sürümleri daha kolay olabilir).</listitem>
								<listitem>Saldırganların gerçek işletim sistemleriyle etkileşmesi sağlanarak risk artırılmıştır. </listitem></itemizedlist></para>
						</entry></row></tbody>
			</tgroup>
</table></para>
<para>Son olarak, balküpü üzerine yazılmış hiçbir makale, yasal konular hakkında bir tartışma olmadan bitmez. Balküplerinin yasallıklarıyla alakalı açıklığa  kavuşturulamamış birçok kavram mevcuttur. Bu makalede yasal konuları genişçe ele almak yerine, balküpü teknolojilerinin yasallıklarıyla ilgili başka bir makaleyi 2003 Mayıs’ının sonunda yazmayı düşünüyorum.</para>
</sect1>
<sect1 id="honeypots-conclusion"><title>Sonuç</title>
	<para>Bu makalenin amacı, balküpü teknolojisinin ne olduğunu tanımlamak ve güvenlik camiası için öneminden bahsetmekti. Biz balküplerini düşük etkileşimli ve yüksek etkileşimli olmak üzere iki farklı kategoriye ayırdık. Etkileşim, balküpünün saldırgana ne kadar hareket izni verdiğini belirtmektedir. Bu çözümlerin verdiği sonuçlar, hem araştırma hem de üretim amaçlıdırlar. Balküpleri  engelleme, tespit etme ve ataklara cevap verme özellikleriyle üretim amaçlı kullanılabilirler. Saldırılardan elde edilen bilgilerle araştırma amaçlı da kullanılırlar, bu sayede tehditleri daha iyi anlarız ve savunmamızı geliştiririz. Balküpleri hakkında daha fazla bilgi öğrenmek isterseniz, balküpleri hakkında yazılmış ilk ve tek kitap olan “<ulink url="http://www.tracking-hackers.com/book/">Honeypots: Tracking Hackers</ulink>” adlı kitapla ilgilenebilirsiniz.</para>
</sect1>
</article>
