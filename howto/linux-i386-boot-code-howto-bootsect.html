<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2009-03-12T15:06:12+02:00"><title>linux/arch/i386/boot/bootsect.S</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/linux-i386-boot-code-howto.html" title="Linux i386 Önyükleme Kodu NASIL"><link rel="previous" href="../howto/linux-i386-boot-code-howto-makefiles.html" title="Linux Makefile'lar"><link rel="next" href="../howto/linux-i386-boot-code-howto-setup.html" title="linux/arch/i386/boot/setup.S"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">linux/arch/i386/boot/bootsect.S</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/linux-i386-boot-code-howto-makefiles.html">Önceki</a> </td><th width="60%" align="center">Linux i386 Önyükleme Kodu NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/linux-i386-boot-code-howto-setup.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="linux-i386-boot-code-howto-bootsect"></a>linux/arch/i386/boot/bootsect.S</h2></div></dt><dd><p>
Verildiði gibi <tt>bbootsect</tt>, <tt>bsetup</tt> ve <tt>bvmlinux</tt>'dan oluþan (<tt>head.o, misc.o, piggy.o</tt>),<tt>bzImage</tt>'ý yüklüyoruz. Ýlk floppy sektörü, <tt>bbootsect</tt> (512 bytes) <tt>linux/arch/i386/boot/bootsect.S</tt>'dan derlenmiþtir. BIOS tarafýndan 07C0:0'a yüklenir. <tt>bzImage</tt>'ýn sýfýrlamasý (<tt>bsetup</tt> ve <tt>bvmlinux</tt>) henüz yüklenmiþ deðildir.
    </p><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-move_bootsect"></a>Bootsect'i Taþý</h3></div></dt><dd><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
SETUPSECTS = 4                     /*varsayýlan kurulum sektörü sayýsý*/
BOOTSEG    = 0x07C0                /*önyükleme sektörünün orjinal adresi*/
INITSEG    = DEF_INITSEG  (0x9000) /*önyüklemeyi buraya taþýyoruz;yolun dýþýna*/
SETUPSEG   = DEF_SETUPSEG (0x9020) /*kurulum buradan baþlar*/
SYSSEG     = DEF_SYSSEG   (0x1000) /*sistem 0x10000 (65536) adresine yüklendi*/
SYSSIZE    = DEF_SYSSIZE  (0x7F00) /*sistem boyutu: 16-bayt sayýsý*/
                                   /*yüklenecek*/
ROOT_DEV   = 0                     /*ROOT_DEV þimdi "build" tarafýndan yazýldý*/
SWAP_DEV   = 0                     /*SWAP_DEV þimdi "build" tarafýndan yazýldý*/

.code16
.text

///////////////////////////////////////////////////////////////////////////////
_start:
{
        // kendimizi 0x7C00'den 0x90000'e taþýdýk ve oraya sýçradýk.
        move BOOTSEG:0 to INITSEG:0 (512 bytes);
        goto INITSEG:go;
}
</pre> </td></tr></table></div>
      </p><p>
<tt>bbootsect INITSEG:0</tt> (0x9000:0)'a taþýnmýþtýr. Artýk <tt>BOOTSEG</tt>'i unutabiliriz.
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-get_disk_para"></a>Disk parametrelerini Al</h3></div></dt><dd><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
///////////////////////////////////////////////////////////////////////////////
// yýðýtý ve disk parametre tablosunu hazýrla
go:
{
  SS:SP = INITSEG:3FF4;   // yýðýtý INITSEG:0x4000-12'ye koy
  /* 0x4000 keyfi bir deðerdir &gt;=
    *   bootsect boyutu + setup boyutu + yýðýt için oda;
    * 12 disk parametre boyutudur. */
  disk parametresini (0:0078'deki gösterici) \
  INITSEG:3FF4 adresine kopyala (12 bytes);
  // <a href="http://www.ctyme.com/intr/rb-2445.htm" target="_top">int1E: SYSTEM DATA - DISKETTE PARAMETERS</a>
  yama sektör sayýsý 36'ya (parametre tablosunda 4. konum, 1 byte);
  disk parametre tablosu göstericisine (0:0078, int1E) INITSEG:3FF4 ata;
}
</pre> </td></tr></table></div>
      </p><p>
SS kaydedicisinden hemen sonra SP'nin baþlatýldýðýndan emin olun. SS'nin tavsiye edilen deðiþiklik yöntemi <tt>lss</tt> komutunu kullanmaktýr (<a href="http://developer.intel.com/design/pentium4/manuals/" target="_top">IA-32 Intel Architecture Software Developer's Manual</a>, (Vol.3. Ch.5.8.3. Masking Exceptions and Interrupts When Switching Stacks).
      </p><p>
Ýtme ve çekme gibi yýðýt iþlemleri artýk kabul edilebilir. Önce disk parametrelerinin 12 byte'ý <tt>INITSEG:3FF4</tt>'e kopyalanmýþtý.
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">///////////////////////////////////////////////////////////////////////////////
// disk sürücü parametrelerini al, özellikle sektör/iz sayýsý.
  char disksizes[] = {36, 18, 15, 9};
  int sectors;
{
  SI = disksizes;                         // i = 0;
  do {
probe_loop:
    sectors = DS:[SI++];            // sectors = disksizes[i++];
    if (SI&gt;=disksizes+4) break;     // if (i&gt;=4) break;
    int13/AH=02h(AL=1, ES:BX=INITSEG:0200, CX=sectors, DX=0);
    // <a href="http://www.ctyme.com/intr/rb-0607.htm" target="_top">int13/AH=02h: DISK - READ SECTOR(S) INTO MEMORY</a>
  } while (sektör okuma hatasý);
}
</pre> </td></tr></table></div>
      </p><p>
"<tt>lodsb</tt>" <tt>DS:[SI]</tt>'dan <tt>AL</tt>'ye baytlarý yükler ve <tt>SI</tt>'yý otomatik olarak arttýrýr.
      </p><p>
Ýz baþýna düþen sektör sayýsý <tt>sectors</tt> deðiþkenine kaydedilir.
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-load_setup"></a>Kurulum Kodunu Yükle</h3></div></dt><dd><p>
<tt>bsetup</tt> (<tt>setup_sects</tt> sektörü) <tt>bbotsect</tt>'den hemen sonra yüklenecektir, örn. <tt>SETUPSEG:0</tt>. Dikkat ederseniz <tt>INITSEG:0200==SETUPSEG:0</tt> ve <tt>setup_sects</tt> <b><tt>tools/build</tt></b> tarafýndan <tt>bsetup</tt> boyutunun <a href="../howto/linux-i386-boot-code-howto-makefiles.html#linux-i386-boot-code-howto-i386_tools_build.c" title="linux/arch/i386/tools/build.c"> linux/arch/i386/tools/build.c</a>'dekiyle eþleþmesi için deðiþtirilmiþtir.
      </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
///////////////////////////////////////////////////////////////////////////////
got_sectors:
  word sread;             // geçerli iz için sektörlerin okunmasý
  char setup_sects;       // tools/build tarafýndan üzerine yazýlmýþ
{
  print out "Loading";
  /* <a href="http://www.ctyme.com/intr/rb-0088.htm" target="_top">int10/AH=03h(BH=0): VIDEO - ÝMLEÇ KONUMUNU VE BOYUTUNU AL</a>
    * <a href="http://www.ctyme.com/intr/rb-0210.htm" target="_top">int10/AH=13h(AL=1, BH=0, BL=7, CX=9, DH=DL=0, ES:BP=INITSEG:$msg1):</a>
    *   <a href="http://www.ctyme.com/intr/rb-0210.htm" target="_top">VIDEO - DÝZGEYÝ YAZ</a> */

  // kurulum-sektörlerini taþýnan (0x90200 adresine) önyükleme bloðundan
  // (bootblock) sonra doðrudan yükle.
  SI = &amp;sread;        // sread, head ve track indekslemek için SI kullanýmý
  sread = 1;              // önyükleme sektörü okundu

  int13/AH=00h(DL=0);     // <a href="http://www.ctyme.com/intr/rb-0605.htm" target="_top">reset FDC</a>

  BX = 0x0200;            // bsetup'ý bbootsect'den (512 bytes) hemen sonra oku
  do {
next_step:
    /* silindir çapraz okumayý (cylinder crossing reading) engellemek için,
      * bu sefer kaç tane sektörün oknacaðýný hesapla */
    uint16 pushw_ax = AX = MIN(sectors-sread, setup_sects);
no_cyl_crossing:
    read_track(AL, ES:BX);          // AX deðiþtirilmez
    // ES:BX, sread, head and track'e read_track()için deðer ata
    set_next(AX);
    setup_sects -= pushw_ax;        // kalanlar - sonraki adým
  } while (setup_sects);
}
</pre> </td></tr></table></div>
      </p><p>
SI <tt>sread, head</tt> ve <tt>track</tt> deðiþkenlerini indekslemek için  <tt>sread</tt> adresine atanmýþtýr. Onlar bellekte art arda bulunur. <tt>read_track()</tt> ve <tt>set_next()</tt> yöntemlerinin ayrýntýlarý için bakýnýz <a href="../howto/linux-i386-boot-code-howto-bootsect.html#linux-i386-boot-code-howto-read_disk" title="Diski Oku"> Diski Oku</a>
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-load_compressed"></a>Sýkýþtýrýlmýþ Ýmgeyi Yükle</h3></div></dt><dd><p>
<tt>bvmlinux</tt> (<tt>head.o, misc.o, piggy.o</tt>) 0x100000 adresine yüklenecektir, <tt>syssize*16</tt> bayt.
      </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
///////////////////////////////////////////////////////////////////////////////
// vmlinux/bvmlinux'u yükle (head.o, misc.o, piggy.o)
{
  read_it(ES=SYSSEG);
  kill_motor();                           // disket sürücü motorunu kapat
  print_nl();                             // CR LF yazar
}
</pre> </td></tr></table></div>
      </p><p>
<tt>read_it()</tt> ayrýntýlarý için bakýnýz <a href="../howto/linux-i386-boot-code-howto-bootsect.html#linux-i386-boot-code-howto-read_disk" title="Diski Oku"> Diski Oku</a>. Eðer <tt>zImage</tt>'ý yüklüyorsak, <tt>vmlinux</tt> 0x10000 (<tt>SYSSEG:0</tt>) adresine yüklenir.
      </p><p>
<tt>bzImage</tt> (<tt>bbootsect, bsetup, bvmlinux</tt>) artýk tümüyle bellekte bulunuyor.
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-go_setup"></a>Ayarlara Git</h3></div></dt><dd><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
///////////////////////////////////////////////////////////////////////////////
// hangi kök aygýtýn kullanýlacaðýna bak ve setup.S'e sýçra
  int root_dev;                     // tools/build tarafýndan üzerine yazýlýr
{
  if (!root_dev) {
    switch (sectors) {
    case 15: root_dev = 0x0208;     // /dev/ps0 - 1.2Mb
        break;
    case 18: root_dev = 0x021C;     // /dev/PS0 - 1.44Mb
        break;
    case 36: root_dev = 0x0220;     // /dev/fd0H2880 - 2.88Mb
        break;
    default: root_dev = 0x0200;     // /dev/fd0 - auto detect
        break;
    }
  }

  // önyükleme bloðundan sonra doðrudan yüklenen ayar yordamýna sýçra
  goto SETUPSEG:0;
}
</pre> </td></tr></table></div>
      </p><p>
Denetimi <tt>bsetup</tt>'a geçirir. <a href="../howto/linux-i386-boot-code-howto-setup.html" title="linux/arch/i386/boot/setup.S"> linux/arch/i386/boot/setup.S</a> bölümündeki <tt>linux/arch/i386/boot/setup.S:start</tt>'a bakýnýz.</p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-read_disk"></a>Diski Oku</h3></div></dt><dd><p>
Aþaðýdaki iþlev <tt>bsetup</tt> ve <tt>bvmlinux</tt>'u diskten yüklemek için kullanýlýr. Dikkat ederseniz <tt>syssize</tt> <a href="../howto/linux-i386-boot-code-howto-makefiles.html#linux-i386-boot-code-howto-i386_tools_build.c" title="linux/arch/i386/tools/build.c"> linux/arch/i386/tools/build.c</a> içindeki <b><tt>tools/build</tt></b> tarafýndan deðiþtirilmiþtir.
      </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
sread:  .word 0                         # geçerli iz'in (track) sektör okumasý
head:   .word 0                         # geçerli kafa
track:  .word 0                         # geçerli iz
///////////////////////////////////////////////////////////////////////////////
// load the system image at address SYSSEG:0
read_it(ES=SYSSEG)
  int syssize;                    /* 16-bayt türünden sistem boyutu
                                   * tools/build tarafýndan üzerine yazýldý */
{
  if (ES &amp; 0x0fff) die;           // hizalama 64KB deðil

  BX = 0;
  for (;;) {
rp_read:
#ifdef __BIG_KERNEL__
    bootsect_helper(ES:BX);
    /* INITSEG:0220==SETUPSEG:0020 - bootsect_kludge,
      *   SETUPSEG:bootsect_helper() gösterici içerir.
      * Bu iþlev bazý veriyapýlarýný baþlangýç durumuna getirir
      *   ilk sefer çaðýrýmda,
      *   ve SYSSEG:0'dan 0x100000'a taþýr, her seferinde 64KB,
      *   aþaðýdaki çaðýrýmda.
      * Bakýnýz <a href="../howto/linux-i386-boot-code-howto-bootsect.html#linux-i386-boot-code-howto-bootsect_helper" title="Bootsect Yardýmcýsý"> Bootsect Yardýmcýsý</a>. */
#else
    AX = ES - SYSSEG + ( BX &gt;&gt; 4);  // kaç tane 16-bayt okuma
#endif
    if (AX &gt; syssize) return;       // herþey yüklendi
ok1_read:
    /* bu sefer uygun AL (okunacak sektörler) al
     * çapraz silindir okumasýný ve BX taþmasýný önlemek için. */
    AX = sectors - sread;
    CX = BX + (AX &lt;&lt; 9);            // 1 sector = 2^9 bytes
    if (CX overflow &amp;&amp; CX!=0) {     // &gt; 64KB
      AX = (-BX) &gt;&gt; 9;
    }
ok2_read:
    read_track(AL, ES:BX);
    set_next(AX);
  }
}

///////////////////////////////////////////////////////////////////////////////
// diski parametrelerle oku (sread, track, head)
read_track(AL sektörler, ES:BX hedef)
{
  for (;;) {
    printf(".");
    // <a href="http://www.ctyme.com/intr/rb-0106.htm" target="_top">int10/AH=0Eh: VIDEO - TELETYPE ÇIKTI</a>

    // sread, track, head) deðerlerine göre CX, DX deðerlerini ata
    DX = track;
    CX = sread + 1;
    CH = DL;

    DX = head;
    DH = DL;
    DX &amp;= 0x0100;

    int13/AH=02h(AL, ES:BX, CX, DX);
    // <a href="http://www.ctyme.com/intr/rb-0607.htm" target="_top">int13/AH=02h: DISK - SEKTÖRLERÝ BELLEÐE OKU</a>
    if (disk okuma baþarýlý) return;
    // "addw $8, %sp" önceki 4 "pushw" iþlemini iptal etmek için.
bad_rt:
    print_all();            // yazma hata kodu, AX, BX, CX ve DX
    int13/AH=00h(DL=0);     // <a href="http://www.ctyme.com/intr/rb-0605.htm" target="_top">reset FDC</a>
  }
}

///////////////////////////////////////////////////////////////////////////////
// set ES:BX, sread, head and track for next read_track()
set_next(AX sectors_read)
{
  CX = AX;                        // sektörleri oku
  AX += sread;
  if (AX==sectors) {
    head = 1 ^ head;        // head'i 0 ve 1 arasýnda deðiþtir
    if (head==0) track++;
ok4_set:
    AX = 0;
  }
ok3_set:
  sread = AX;
  BX += CX &amp;&amp; 9;
  if (BX overflow) {              // &gt; 64KB
    ES += 0x1000;
    BX = 0;
  }
set_next_fn:
}
</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-bootsect_helper"></a>Bootsect Yardýmcýsý</h3></div></dt><dd><p>
<tt>setup.S:bootsect_helper()</tt> sadece <tt>bootsect.S:read_it()</tt> tarafýndan kullanýlýr.
      </p><p>
<tt>bbootsect</tt> ve <tt>bsetup</tt> yarý ayrý baðlandýklarý için kendi kod/veri bölütlerine baðlý konumlar kullanýrlar. Deðiþik bölütlerde <tt>bootsect_helper()</tt> için "call far" (lcall) çaðýrmak zorundayýz ve "return far" dönmeli. Bu çaðýrma, CS!=DS durumunu yaratan CS deðiþikliði ile sonuçlanýr ve <tt>setup.S</tt> içindeki deðiþkenleri belirtmek için bölütü niteleyici kullanmak zorundayýz.
      </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
///////////////////////////////////////////////////////////////////////////////
// bzImage yüklendiðinde bootsect yükleyici tarafýndan çaðýrýlýr
bootsect_helper(ES:BX)
  bootsect_es = 0;                // setup.S içinde tanýmlý
  type_of_loader = 0;             // setup.S içinde tanýmlý
{
  if (!bootsect_es) {             // ilk sefer için çaðýrýlýr
    type_of_loader = 0x20;  // bootsect-yükleyici, version 0
    AX = ES &gt;&gt; 4;
    *(byte*)(&amp;bootsect_src_base+2) = AH;
    bootsect_es = ES;
    AX = ES - SYSSEG;
    return;
  }
bootsect_second:
  if (!BX) {                      // 64KB full
    // SYSSEG:0'dan hedefe taþý, her seferinde 64KB
    int15/AH=87h(CX=0x8000, ES:SI=CS:bootsect_gdt);
    // <a href="http://www.ctyme.com/intr/rb-1527.htm" target="_top">int15/AH=87h: SÝSTEM - GENÝÞLETÝLMÝÞ BELLEÐE KOPYALA</a>
    if (kopyalama hatasý) {
      bootsect_panic() {
        prtstr("INT15 refuses to access high mem, giving up.");
bootsect_panic_loop:            goto bootsect_panic_loop;   // never return
      }
    }
    ES = bootsect_es;       // ES'i daima 0x10000 noktasýna ata
    *(byte*)(&amp;bootsect_dst_base+2)++;
  }
bootsect_ex:
  // AX içindeki taþýnmýþ çerçeveler (16-bayt)
  AH = *(byte*)(&amp;bootsect_dst_base+2) &lt;&lt; 4;
  AL = 0;
}

///////////////////////////////////////////////////////////////////////////////
// data used by bootsect_helper()
bootsect_gdt:
  .word   0, 0, 0, 0
  .word   0, 0, 0, 0

bootsect_src:
  .word   0xffff

bootsect_src_base:
  .byte   0x00, 0x00, 0x01                # base = 0x010000
  .byte   0x93                            # typbyte
  .word   0                               # limit16,base24 =0

bootsect_dst:
  .word   0xffff

bootsect_dst_base:
  .byte   0x00, 0x00, 0x10                # base = 0x100000
  .byte   0x93                            # typbyte
  .word   0                               # limit16,base24 =0
  .word   0, 0, 0, 0                      # BIOS CS
  .word   0, 0, 0, 0                      # BIOS DS

bootsect_es:
  .word   0

bootsect_panic_mess:
  .string "INT15 refuses to access high mem, giving up."
</pre> </td></tr></table></div>
      </p><p>
<tt>type_of_loader</tt> deðerinin deðiþtiðine dikkat edin. Bu konu <a href="../howto/linux-i386-boot-code-howto-setup.html#linux-i386-boot-code-howto-check_loader" title="Yükleyici Türünü Kontrol Et"> Yükleyici Türünü Kontrol Et</a> bölümünde açýklanmýþtýr.
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-bootsect_misc"></a>Muhtelif</h3></div></dt><dd><p>
Kalanlar destek iþlevleridir; deðiþkenler ve "gerçek kip çekirdek baþlýðý" parçalarý. Dikkat ederseniz <tt>.text</tt> bölütündeki veri kod olarak bulunur, böylece yüklendiðinde uygun bir þekilde baþlangýç durumuna getirilebilir.
      </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
///////////////////////////////////////////////////////////////////////////////
// bazý küçük iþlevler
print_all();  /* hata kodu yaz, AX, BX, CX and DX */
print_nl();   /* CR LF yaz*/
print_hex();  /* SS:BP tarafýndan gösterilen kelimeyi onaltýlýk olarak yaz*/
kill_motor()  /* disket sürücü motorunu kapat */
{
#if 1
  int13/AH=00h(DL=0);     // <a href="http://www.ctyme.com/intr/rb-0605.htm" target="_top">reset FDC</a>
#else
  outb(0, 0x3F2);         // outb(val, port)
#endif
}

///////////////////////////////////////////////////////////////////////////////
sectors:        .word 0
disksizes:      .byte 36, 18, 15, 9
msg1:           .byte 13, 10
                .ascii "Loading"
</pre> </td></tr></table></div>
      </p><p>
"gerçek kip çekirdek baþlýðý"nýn bir parçasý olan bootsect taþýyýcý 497. konumdan baþlar.
      </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
.org 497
setup_sects:    .byte SETUPSECS       // tools/build tarafýndan üzerine yazýlýr
root_flags:     .word ROOT_RDONLY
syssize:        .word SYSSIZE         // tools/build tarafýndan üzerine yazýlýr
swap_dev:       .word SWAP_DEV
ram_size:       .word RAMDISK
vid_mode:       .word SVGA_MODE
root_dev:       .word ROOT_DEV        // tools/build tarafýndan üzerine yazýlýr
boot_flag:      .word 0xAA55
</pre> </td></tr></table></div>
      </p><p>
Bu "baþlýk" <tt>linux/Documentation/i386/boot.txt</tt> içindeki yerleþim örneðiyle uyuþmalýdýr.
      </p><p>
<pre class="literallayout">
Konum   Proto   Ýsim            Anlam
/Boyut
01F1/1  ALL     setup_sects     setup'ýn sektör cinsinden boyutu
01F2/2  ALL     root_flags      Sýfýrdan farklý ise, kök dizin salt okunur
                                olarak baðlanýr
01F4/2  ALL     syssize         KULLANMAYIN - sadece bootsect.S kullanýmý için
01F6/2  ALL     swap_dev        KULLANMAYIN - atýl oldu
01F8/2  ALL     ram_size        KULLANMAYIN - sadece bootsect.S kullanýmý için
01FA/2  ALL     vid_mode        Video kip kontrolü
01FC/2  ALL     root_dev        Varsayýlan kök aygýt sayýsý
01FE/2  ALL     boot_flag       0xAA55 sihirli numara
</pre>
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="linux-i386-boot-code-howto-bootsect_ref"></a>Kaynakça</h3></div></dt><dd><p><div class="itemizedlist"><ul type="disc"><li>
THE LINUX/I386 BOOT PROTOCOL: <tt>linux/Documentation/i386/boot.txt</tt></li><li><a href="http://developer.intel.com/design/pentium4/manuals/" target="_top">IA-32 Intel Architecture Software Developer's Manual</a></li><li><a href="http://www.cs.cmu.edu/~ralf/files.html" target="_top">Ralf Brown's Interrupt List</a></li></ul></div>
      </p><p>
&lt;IA-32 Intel Mimarisi Yazýlým Geliþtiricisinin Kýlavuzu&gt; belgesine bu belgede bir çok kez baþvurulduðundan kýsaca "IA-32 Kýlavuzu" diyeceðim.
      </p></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/linux-i386-boot-code-howto-makefiles.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/linux-i386-boot-code-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/linux-i386-boot-code-howto-setup.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Linux Makefile'lar </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> linux/arch/i386/boot/setup.S</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
