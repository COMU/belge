<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:54:52+03:00"><title>Silinmiþ bir Disk Bölümünü Kurtarmak</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/partition-howto.html" title="Linux Disk Bölümleme NASIL"><link rel="previous" href="../howto/partition-howto-formatting.html" title="Bir ext2/3 disk bölümünü biçimlendirmek"><link rel="next" href="../howto/partition-howto-setting_up_swap.html" title="Takas Alanýný Ayarlamak"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Silinmiþ bir Disk Bölümünü Kurtarmak</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/partition-howto-formatting.html">Önceki</a> </td><th width="60%" align="center">Linux Disk Bölümleme NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/partition-howto-setting_up_swap.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="partition-howto-recovering"></a>Silinmiþ bir Disk Bölümünü Kurtarmak</h2></div></dt><dd><p>
Aþaðýda silinmiþ bir disk tablosunu el ile kurtarmanýn adýmlarý anlatýlmýþtýr. <a class="ulink" href="http://www.stud.uni-hannover.de/user/76201/gpart" target="_top">gpart</a> veya <a class="ulink" href="http://www.cgsecurity.org/index.html?testdisk.html" target="_top">TestDisk</a> gibi bu iþlemi oldukça kolay hale getiren uygulamalar vardýr. Eðer bunu okuyor ve þansýnýz hiç kalmadýysa, yapacaklarýnýz:
  </p><p><div class="orderedlist"><ol type="1"><li><div class="listitem">
Ýlk disk bölümünüzün büyüklüðü kadar bir disk bölümü oluþturun. Bu kýsmý asýl disk bölümünden daha büyük de yapabilirsiniz. Eðer daha küçük yaparsanýz, çok hayýflanýp diþ gýcýrdatacaksýnýz.
    <p></p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">Command (m for help): <b><tt>n</tt></b>
Command action
   e   extended
   p   primary partition (1-4)
<b><tt>p</tt></b>
Partition number (1-4): <b><tt>1</tt></b>
First cylinder (1-23361, default 1): <b><tt>&lt;RETURN&gt;</tt></b>
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-22800, default 22800): <b><tt>13032</tt></b>

Command (m for help): <b><tt>w</tt></b>
</pre> </td></tr></table></div>
  </p><p></p></div></li><li><div class="listitem">
<b><tt>dumpe2fs</tt></b>'i ilk disk bölümünde çalýþtýrarak blok sayýsýný bulun.
  <p></p><p>Örnek:</p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">% <b><tt>dumpe2fs /dev/sda1 | grep "Block count:"</tt></b>
Block count:              41270953
</pre> </td></tr></table></div>
    </p><p>
Eðer bu deðerden emin deðilseniz, 1. Adýmý daha büyük bir disk boyutu için tekrarlayýn. Eðer blok sayýsý deðiþtiyse, asýl disk bölümü blok sayýsýný iyi tahmin edememiþsiniz demektir. 1. Adýmý kararlý bir blok sayý bulana kadar sürdürün.
  </p><p></p></div></li><li><div class="listitem">
Yeni oluþturduðunuz disk bölümünü silin.
    <p></p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">Command (m for help): <b><tt>d</tt></b>
Partition number (1-4): <b><tt>1</tt></b>
</pre> </td></tr></table></div>
  </p><p></p></div></li><li><div class="listitem">
Elde ettiðiniz blok sayýsýna bakarak yeni bir disk bölümü oluþturun. <b><tt>fdisk</tt></b>'e blok sayýsý giremediðinizden, kaç tane silindir istendiðini hesaplamanýz gerekmektedir. Ýþte formulü:
    <p></p><p>
<pre class="literallayout">(gerekli silindir sayýsý) = (blok sayýsý) / (blok büyüklüðü)

(blok büyüklüðü) = (birim büyüklüðü) / 1024

(birim büyüklüðü) = (kafa sayýsý) * (sektör/silindir sayýsý) * (bayt/sektör sayýsý)
</pre>
  </p><p>
1, 2, 4 ve 8 silindirlik 4 birincil disk bölümüne ayrýlmýþ aþaðýdaki disk bölümleme örneðine bakýnýz.
  </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">disk /dev/sda: 16 heads, 63 sectors, 23361 cylinders
Units = cylinders of 1008 * 512 bytes

   Device Boot    Start       End    Blocks   Id  System
/dev/sda1             1         2       976+  83  Linux
/dev/sda2             3         5      1512   83  Linux
/dev/sda3             6        10      2520   83  Linux
/dev/sda4            11        19      4536   83  Linux
</pre> </td></tr></table></div>
  </p><p>
<b><tt>fdisk</tt></b> çýktý baþlangýcýnda ihtiyacým olan ayar bilgisini de sunmaktadýr.
  </p><p>
<pre class="literallayout">
Birim büyüklüðü <b><tt>516096</tt></b>
  = <b><tt>16</tt></b> disk kafasý * <b><tt>63</tt></b> sektör/silindir * <b><tt>512</tt></b> bayt/sektör

Blok büyüklüðü <b><tt>504</tt></b>
  = <b><tt>516096 / 1024</tt></b>
</pre>
  </p><p>
Dolasiyle ikinci disk bölümü için gerekli silindir sayýsý <b><tt>3</tt></b>'tür (<b><tt>1512</tt></b> blok <b><tt>/ 504</tt></b>).
  </p><p>
Disk bölümleme tablosu da bunun gerçekten de böyle olduðunu söylüyor: ilk silindir <b><tt>3</tt></b>, ikincisi <b><tt>4</tt></b> ve en sonuncu da <b><tt>5</tt></b>, toplam 3 silindir.
  </p><p>
Üçüncü disk bölümü için gerekli silindir sayýsý da benzer þekilde hesaplanýr: <b><tt>2520</tt></b> blok <b><tt>/ 504 = 5</tt></b>, bunlar da bloklara karþý gelecek þekilde <b><tt>6,7,8,9,10</tt></b>'dur. Bu hesaplamanýn ilk disk bölümünde çalýþmayacaðýna dikkat edin (<b><tt>1008</tt></b> yerine <b><tt>976</tt></b>). Artý iþareti tüm bloklarýn fdisk uygulamasýna katýldýklarýný gösterir. Hesaplamayý denediðiniz zaman (<b><tt>976 / 504 </tt></b>) <b><tt>1.937</tt></b> elde edersiniz. Silindir sayýsýnýn tamsayý olmasý gerektiðini bilerek bunu yuvarlayabilirsiniz.
  </p><p></p></div></li><li><div class="listitem">
<b><tt>e2fsck</tt></b>'i çalýþtýrarak yeni disk bölümününün okunup okunamayaðýna bakýn.
  <p></p><p></p></div></li><li><div class="listitem">
1'den 5'e kadar adýmlarý kalan diðer disk bölümleri için de tekrarlayýn.
  <p></p><p></p></div></li></ol></div></p><p>
Disk bölümünüzü tekrar baðlayýn. Þaþýrtýcý bir þekilde bilgilerinizi orada olduðunu göreceksiniz.
  </p><p><div class="itemizedlist"><ul type="disc"><li>
jedi sistem yöneticisi ve MGH'nin en iyisi olan Mike Vevea'a, bu ipuçlarýný verdiði için teþekkürler.
  <p></p><p></p></li></ul></div></p></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/partition-howto-formatting.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/partition-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/partition-howto-setting_up_swap.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Bir ext2/3 disk bölümünü biçimlendirmek </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Takas Alanýný Ayarlamak</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
