<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-07-22T11:01:57+03:00"><title>Ana Düðümün  Yapýlandýrýlmasý</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/beowulf-howto.html" title="Beowulf NASIL"><link rel="previous" href="../howto/beowulf-howto-reqs.html" title="Gereksinimler"><link rel="next" href="../howto/beowulf-howto-slave.html" title="Ýkincil Düðümlerin Yapýlandýrýlmasý"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Ana Düðümün  Yapýlandýrýlmasý</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/beowulf-howto-reqs.html">Önceki</a> </td><th width="60%" align="center">Beowulf NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/beowulf-howto-slave.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="beowulf-howto-master"></a>Ana Düðümün  Yapýlandýrýlmasý</h2></div></dt><dd><p>
Ana düðüm yapmak için en güçlü makineyi seçin. Üzerine, sadece ihtiyacýnýz olan paketleri seçerek Linux kurun. Ýhtiyacýnýz olan þey sadece " Að servisleri"dir. Çünkü NFS ve SSH kullanmanýz gerekecek. Bütün ihtiyaçlarýnýz bu kadar. Ama ben Beowulf uygulamalarý geliþtirecektim, dolayýsýyla X ve C geliþtiricisi de ekledim.
   </p><p>
Deneyimlerime göre gerçekten NFS kullanmaya ihtiyacýnýz yok. Ama, düðümler arasýnda dosya kopyalamak ve program kurmayý otomatikleþtirmek için, çok faydalý buldum. Belgenin ilerleyen kýsýmlarýnda, NFS kullanmadan basit bir Beowulf uygulamasýnýn nasýl çalýþtýrýlabileceðini anlatacaðým. Daha karmaþýk uygulamalar NFS kullanabilir veya gerçekten ona baðýmlý olabilir.
    </p><p>
Beowulf sistemlerini araþtýrmalarýnýzda ana düðümde, dýþ dünyadan ona eriþiminizi saðlayacak olan ikinci bir að kartýnýn nasýl olacaðýný göreceksiniz. Bu kümeleme iþlemleri için gerekli deðildir.
    </p><p>
Çok katý bir yol öðrendim: Linux daðýtýmýnýz, sizi kullandýðýnýz parolanýn güçlü bir parola olmasýna zorluyor. Kullanýcým için "a" gibi çok basit bir parola girdim  hiçbir þey çalýþmadý. Parolamý; sayýlar, karakterler, büyük harf ve küçük harfle karýþtýrdýðýmda çalýþtý.
   </p><p>
Eðer ileti aktarým arayüzü olarak LAM kullanýrsanýz, kýlavuzunda okuyacaðýnýz gibi güvenlik duvarýnýzý devredýþý býrakacaksýnýz, çünkü LAM düðümler arasý iletiþim için rastgele portlar kullanýr. Kural: Eðer kýlavuz size bir þeyleri yapmanýzý söylüyorsa yapýn. LAM kýlavuzu size yönetici olmayan bir kullanýcý ile çalýþmanýzý söyler. Her bir düðüm için ayný kullanýcýyý tanýmlayýn. Küme üzerindeki herbir düðümü ayný kullanýcý ve parola ile kurun. Ben yönetici olmayan kullanýcýyý "wolf" diye tanýmladým.
    </p><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id1"></a><tt>hosts</tt> dosyalarý</h3></div></dt><dd><p>
Öncelikle <tt>/etc/hosts</tt> dosyasýný düzenleyeceðiz. Dosya içinde göreceðiniz gibi açýklamalar size "localhost" satýrýna dokunmamanýzý söyler. Bu tavsiyeyi dikkate almayýn ve geridönüþ arabiriminin adresini düðümünüzün ismini içermeyecek þekilde deðiþtirin.
      </p><p>
Satýrý þöyle deðiþtirin:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">127.0.0.1 wolf00 localhost.localdomain localhost</pre> </td></tr></table></div>
      </p><p>
Eski hali:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">127.0.0.1 localhost.localdomain localhost </pre> </td></tr></table></div>
      </p><p>
Ýstediðiniz bütün düðümleri kümeye ekleyin. Not: Bu, Beowulf iþlemleri için gerekli deðildir, sadece daha kullanýþlýdýr; dolayýsýyla küme üzerindeki bir düðüme eriþmek istediðinizde 192.168.0.100 gibi sýkýcý bir adres girmek yerine basitçe "wolf01" girerek eriþmenizi saðlar.
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">192.168.0.100 wolf00
192.168.0.101 wolf01
192.168.0.102 wolf02
192.168.0.103 wolf03
192.168.0.104 wolf04
</pre> </td></tr></table></div>
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id2"></a>Gruplar</h3></div></dt><dd><p>
Güvenilir bir küme kurmak için, özellikle düðümlerinizin "kullanýcýsý" iseniz, bazý güvenlik önlemleri almalýsýnýz.
      </p><p>
Kullanýcýyý oluþturduktan sonra bir grup oluþturun ve kullanýcýlarý bu gruba ekleyin. Sonra dosya ve dizinlerinizi sadece bu grubun kullanýcýlarý tarafýndan eriþilebilecek þekilde düzenleyin.
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">groupadd beowulf usermod -g beowulf wolf </pre> </td></tr></table></div>
      </p><p>
Aþaðýdaki komutu da <tt>/home/wolf/.bash_profile</tt> dosyasýna ekleyin:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">umask 007</pre> </td></tr></table></div>
      </p><p>
Artýk "wolf" kullanýcýsý tarafýndan oluþturulan herhangi bir dosya, otomatik olarak, sadece "beowulf" grubu veya bu grubun kullanýcýlarý tarafýndan yazýlabiliyor olacaktýr.
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id3"></a>NFS</h3></div></dt><dd><p>
Þu web sitesinden bahsetmek gerekiyor: <a href="http://www.ibiblio.org/mdw/HOWTO/NFS-HOWTO/server.html" target="_top">http://www.ibiblio.org/mdw/HOWTO/NFS-HOWTO/server.html</a>
      </p><p>
Bir kenara yazýn. Ben size NFS kurmak için sisteminizi nasýl düzenleyeceðinizi anlatacaðým,  ama bu siteyi de çok faydalý buldum.
      </p><p>
Herkesin paylaþmasý için bir dizin oluþturun:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">mkdir /mnt/wolf
chmod 770 /mnt/wolf
chown wolf:beowulf /mnt/wolf -R
</pre> </td></tr></table></div>
      </p><p>
<tt>/etc</tt> dizinine gidin ve <tt>shared</tt> dizininizi <tt>exports</tt> dosyasýna ekleyin:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># <b><tt>cd /etc</tt></b>
# <b><tt>cat &gt;&gt; exports
/mnt/wolf 192.168.0.100/192.168.0.255 (rw)
&lt;control d&gt;</tt></b>
</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id4"></a>IP Adresleri</h3></div></dt><dd><p>
Benim aðým 192.168.0.nnn dir; "özel" bir IP aralýðýdýr. Thomas Sterling kitabýnýn  106. sayfasýnda bahsediyor. Güvenlik duvarýnda da bu aralýkta ve gayet iyi çalýþýyor.
      </p><p>
192.168.0.100 olan ana düðümümü "wolf00" diye isimlendirdim. Her bir düðümün isimlendirmesi de 192.168.0.100 + nn'e  karþýlýk "wolfnn" olmalýdýr. Ben pek çok web sayfasýnýn tavsiyelerini takip ediyorum ve küme ölçeklendirme görevlerini kendim kuruyorum.
      </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id5"></a>Servisler</h3></div></dt><dd><p>
Çalýþmasýný istediðimiz süreçleri devreye sokalým:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">chkconfig -add sshd
chkconfig -add nfs
chkconfig -add rexec
chkconfig -add rlogin
chkconfig -level 3 rsh on
chkconfig -level 3 nfs on
chkconfig -level 3 rexec on
chkconfig -level 3 rlogin on
</pre> </td></tr></table></div>
      </p><p>
Ve, açýlýþ sýrasýnda, çalýþmasýný istemediðim bazý servisler gördüm. Bana göre silinmeli. Siz de ihtiyacýnýza uygun servisleri ekleyip çýkarabilirsiniz; aþaðýda görüldüðü gibi:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">chkconfig -del atd
chkconfig -del rsh
chkconfig -del sendmail
</pre> </td></tr></table></div>
    </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id6"></a>SSH</h3></div></dt><dd><p>
Güvenli olmasý için SSH çalýþmasý yapmalýyýz. root olarak sisteme giriþ yapýp <tt>/etc/ssh/sshd_config</tt> dosyasýný düzenlemelisiniz. Aþaðýdaki satýrlardaki gibi:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">#RSAAuthentication yes
#AuthorizedKeysFile .ssh/authorized_keys
</pre> </td></tr></table></div>
      </p><p>
satýrlarý açýklama satýrýdýr, dolayýsýyla baþýndaki # iþareti kaldýrýlmalý.
      </p><p>
<b><tt>sshd</tt></b>'yi yeniden baþlatýp, wolf olarak sisteme giriþ yapýn. Çünkü küme iþlemleriniz daima "wolf" kullanýcýsý tarafýndan yapýlabiliyor olacaktýr. <tt>hosts</tt> dosyasý deðiþiklikleri daha önce yapýlmalýdýr, sistemden çýkýþ yapýlýp tekrar girildiðinde deðiþiklik yapýlamaz.  Düðümü yeniden baþlatýn ve komut istemcisinin "wolf00" sunucu ismini  gösterdiðinden emin olun.
      </p><p>
Genel ve gizli SSH anahtarlarýnýzý üretin:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">ssh-keygen -b 1024 -f ~/.ssh/id_rsa -t rsa -N "" </pre> </td></tr></table></div>
      </p><p>
Bazý iletiler gösterecek, genel ve gizli anahtar çiftinin oluþturulduðunu söyleyecek. Siz bu dosyalarý görebileceksiniz, <tt>/home/wolf/.ssh</tt> dizini içinde <tt>id_rsa</tt> ve <tt>id_rsa.pub.</tt>
      </p><p>
<tt>id_rsa.pub</tt> dosyasýný <tt>.ssh</tt> dizini içindeki <tt>authorized_keys</tt> dosyasýna kopyalayýn. Bu dosyayý daha sonra kullanýyor olacaðýz. Bu dosyanýn sunucu ismini gösterdiðini doðrulayýn. Dosyalar ve dizinlerin güvenliðini deðiþtirin:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">chmod 644 ~/.ssh/auth*
chmod 755 ~/.ssh
</pre> </td></tr></table></div>
      </p><p>
Ç.N.: <tt>~/.ssh</tt> dizini gizli anahtarý içerdiðinden izinlerinin 700 olmasý gerekir. Mecbur kalmadýkça 755 yapmayýn.
      </p><p>
LAM kullanýcý gruplarýna göre ana düðüm, sadece ikincil düðümlerin eriþim kayýtlarýný tutmalýdýr. Bu nedenle genel anahtar dosyalarýný kopyalayacaðýmýz zaman, sadece ana düðümün  anahtar dosyasýný her bir ikincil düðüme kopyalarýz. Bu, authorized_keys dosyalarýnýn  bütün düðümlere kopyalanmasýndan daha basittir. Ýlerde bunu ayrýntýlý olarak tarif edeceðim.
      </p><p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="../images/xsl/note.png"></td><th>Not</th></tr><tr><td colspan="2" align="left" valign="top"><p>
Ben, ileti aktarým arayüzü olarak LAM daðýtýmýný kullandýðým için, sadece onun gereksinimlerini yazýyorum; eðer siz farklý bir ileti aktarým arayüzü seçip küme kurarsanýz, sizin ihtiyaçlarýnýz deðiþebilir.</p></td></tr></table></div>
      </p><p>
<tt>/home/wolf/.bash_profile</tt> satýrýnýn sonuna, aþaðýdaki ifadeleri ekleyin:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">export LAMRSH='ssh -x'
ssh-agent sh -c 'ssh-add &amp;&amp; bash'
</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="id7"></a>MPI</h3></div></dt><dd><p>
En son düðüme ileti aktarým arayüzünü koyun. <a href="../howto/beowulf-howto-reqs.html" title="Gereksinimler"> Gereksinimler</a> baþlýðýnda belirttiðim gibi, ben LAM kullandým. LAM'i buradan <a href="http://www.lam-mpi.org/" target="_top"> http://www.lam-mpi.org/</a> adresinden edinebilirsiniz.
      </p><p>
Ama siz, baþka bir ileti aktarým arayüzü ve/veya paralel sanal makine yazýlýmý kullanabilirsiniz. Tekrar ediyorum, ben kendi çalýþmalarýmý gösteriyorum.
     </p><p>
LAM'i kaynak kodundan derleyebileceðiniz gibi, daha önceden derlenmiþ RPM paketini de kullanabilirsiniz. Burada anlatma fýrsatým olmadý; ben kaynak kodu indirip kýlavuzuna göre derledim, baþka bir deneyimimde de RPM paketlerinden kurmuþtum. Ýkisi de gayet iyi çalýþýyor. Unutmayýn, bütün bunlarý öðrenmek için yapýyoruz.
      </p><p>
LAM ve diðer ileti aktarým arayüzü yazýlýmlarý hakkýnda daha fazla belgeyi <a href="http://www.tldp.org/HOWTO/Scientific-Computing-with-GNU-Linux/systems.html" target="_top">buradan</a> bulabilirsiniz.
      </p></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/beowulf-howto-reqs.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/beowulf-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/beowulf-howto-slave.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Gereksinimler </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Ýkincil Düðümlerin Yapýlandýrýlmasý</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
