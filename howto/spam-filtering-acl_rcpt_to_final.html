<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:56:24+03:00"><title>acl_rcpt_to</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/spam-filtering-exim-final.html" title="Tamamlanmýþ ACL'ler"><link rel="previous" href="../howto/spam-filtering-acl_mail_from_final.html" title="acl_mail_from"><link rel="next" href="../howto/spam-filtering-acl_data_final.html" title="acl_data"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">acl_rcpt_to</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/spam-filtering-acl_mail_from_final.html">Önceki</a> </td><th width="60%" align="center">Tamamlanmýþ ACL'ler</th><td width="20%" align="right"> <a accesskey="n" href="../howto/spam-filtering-acl_data_final.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect2"><dt><div> <h3 class="title"><a name="spam-filtering-acl_rcpt_to_final"></a><tt>acl_rcpt_to</tt></h3></div></dt><dd><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
# Bu eriþim denetim listesi gelen bir SMTP aktarýmýnda RCPT
# komutu için kullanýlýr. Bu sýnamalar alýcý adresi kabul
# ya da red edilinceye kadar sýrayla yapýlýr.

acl_rcpt_to:

  # Posta yerel SMTP üzerinden alýnmýþsa (yani, TCP/IP baðlantýsý
  # ile gelmiyorsa) kabul et. Bunu boþ bir konak alanýný
  # sýnayarak yapacaðýz. Ayrýca, postalarýný rölelediðimiz
  # konaklardan gelen postalarý da kabul edeceðiz.
  #
  # Alýcý doðrulamasýný burada atlýyoruz, çünkü çoðu durumda
  # istemciler kullanýcýlarýn posta istemcileridir ve SMTP
  # hata iletileri ile ne yapacaklarýný bilmezler.
  #
  accept
    hosts       = : +relay_from_hosts


  # Ýleti, kimlik kanýtlamasý yapýlan bir baðlantý üzerinden
  # geliyorsa kabul ediyoruz. Yine, bu iletiler kullanýcýlarýn posta
  # istemcilerinden geldiklerinden alýcý doðrulamasý yapmýyoruz.
  #
  accept
    authenticated = *


  # Yerel kýsým @  %  / | ! karakterlerinden birini içeriyorsa,
  # iletiyi reddediyoruz. Bunlar normal yerel kýsýmlarda çok nadir
  # görülür, çoðunlukla röleleme sýnýrlamalarýný aþmaya çalýþanlarca
  # kullanýlýr.
  #
  # Ayrýca, yerel kýsým bir nokta ile baþlýyorsa da reddediyoruz.
  # Boþ bileþenler RFC 2822'de kuraldýþýdýr, fakat Exim bu yaygýn
  # olduðundan bunlara izin verir. Buna raðmen, bir nokta ile
  # baþlayan bir yerel kýsým bir dosya ismi olarak kullanýlmýþsa
  # (örneðin, bir posta listesi), sorunlara yol açabilir.
  #
  deny
    local_parts = ^.*[@%!/|] : ^\\.


  # Eðer $acl_m0'da kayýtlý bir sebep varsa, göndericiyi 20 saniye
  # beklettikten sonra reddediyoruz.
  #
  deny
    message     = $acl_m0
    log_message = $acl_m1
    condition   = ${if and {{def:acl_m0}{def:acl_m1}} {true}}
    delay       = 20s


  # Alýcý adres bizim postalarýný kabul ettiðimiz alanlardan birine
  # ait deðilse, göndericiyi 20s beklettikten sonra reddediyoruz.
  #
  deny
    message     = relay not permitted
    !domains    = +local_domains : +relay_to_domains
    delay       = 20s


  # Alýcý adres bizim postalarýný kabul ettiðimiz alanlardan birine
  # ait fakat geçersizse, göndericiyi beklettikten sonra reddediyoruz.
  #
  deny
    message     = unknown user
    !verify     = recipient/callout=20s,defer_ok,use_sender
    delay       = ${if def:sender_address {1m}{0s}}



  # Zarf göndericisi adresi boþ fakat postanýn birden fazla alýcýsý
  # varsa, baðlantýyý kesiyoruz. Meþru teslimat durum bildirimleri
  # asla bir defada birden fazla alýcýya gönderilmez.
  #
  drop
    message      = Legitimate bounces are never sent to more than one \
                   recipient.
    senders      = : postmaster@*
    condition    = $recipients_count
    delay        = 5m


  # --------------------------------------------------------------------
  # Kullanýcý verilerini ve ayarlarýný (Spamassasin gibi) destekleyebilmek
  # için gelen her iletinin alýcý sayýsýný bir ile sýnýrlayalým.
  #
  # BÝLGÝ: Çok sayýda kullanýcýnýza gönderilmiþ bir postanýn yerine
  #        ulaþmasý her alýcý için 30 dakika veya daha fazla olmak
  #        üzere katlanarak gecikecektir. Bu, özellikle zamanýn kritik
  #        önemde olduðu durumlarda sorunlara yol açacaktýr.
  #
  #defer
  #  message      = We only accept one recipient at a time - please try later.
  #  condition    = $recipients_count
  # --------------------------------------------------------------------


  # Gönderici konak alýcýnýn ev dizinindeki ".forwarders" dosyasýndaysa
  # postayý kabul edeceðiz. Geçici olarak $acl_m9 deðiþkenine bu dosyayý
  # atayacaðýz. Konak listedeyse, $acl_m0'a bir deðer yerleþtirip $acl_m1'i
  # temizleyeceðiz, böylece daha sonra bu postayý reddetmeyeceðiz.
  #
  accept
    domains     = +local_domains
    set acl_m9  = /home/${extract{1}{=}{${lc:$local_part}}}/.forwarders
    hosts       = ${if exists {$acl_m9}{$acl_m9}}
    set acl_m0  = accept
    set acl_m1  =


  # Gönderici konak genel akliste içindeyse postayý kabul edeceðiz.
  # Geçici olarak $acl_m9 deðiþkenine bu dosyayý atayacaðýz.
  # Konak listedeyse, $acl_m0'a bir deðer yerleþtirip $acl_m1'i
  # temizleyeceðiz, böylece daha sonra bu postayý reddetmeyeceðiz.
  #
  accept
    set acl_m9  = /etc/mail/whitelist-hosts
    hosts       = ${if exists {$acl_m9}{$acl_m9}}
    set acl_m0  = accept
    set acl_m1  =


  # --------------------------------------------------------------------
  # Zarf Gönderici Ýmlemesinin Sýnanmasý.
  # Bu kýsým öntanýmlý olarak iptal edilmiþtir, çünkü 'transports' ve
  # 'routers' bölümlerindeki yapýlandýrmanýn da deðiþtirilmesi gerekir.
  #
  # Kendine özgü imlemesini içeriyorsa, alýcý adresini kabul ediyoruz.
  # Bu, teslimatýn, daha önce bizden gönderilmiþ bir postanýn teslimat
  # durum bildirimi olduðunu gösterir.
  #
  #accept
  #  domains     = +local_domains
  #  condition   = ${if and {{match{${lc:$local_part}}{^(.*)=(.*)}}\
  #                          {eq{${hash_8:${hmac{md5}{SECRET}{$1}}}}{$2}}}\
  #                         {true}{false}}
  #
  # Aksi takdirde, posta boþ gönderici adresli ise ama alýcý, imlemeli zarf
  # gönderici adresi þemasýný seçenlerden biri ise postayý reddediyoruz.
  #
  #deny
  #  message     = This address does not match a valid, signed \
  #                return path from here.\n\
  #                You are responding to a forged sender address.
  #  log_message = bogus bounce.
  #  senders     = : postmaster@*
  #  domains     = +local_domains
  #  set acl_m9  = /home/${extract{1}{=}{${lc:$local_part}}}/.return-path-sign
  #  condition   = ${if exists {$acl_m9}{true}}
  # --------------------------------------------------------------------


  # --------------------------------------------------------------------
  # Eðer gönderici adresi boþsa, bir posta kutusu olmayan kullanýcýlara
  # (örn, postmaster, webmaster, v.s.) gelen postayý reddediyoruz.
  # Bu kullanýcýlar posta göndermezler, dolayýsýyla onlara bir posta
  # (teslimat durum bildirimi) dönemez.
  #
  # BÝLGÝ: Bu kýsým öntanýmlý olarak iptal edilmiþtir, çünkü uygulanacak
  #        kural yerel postanýn teslimat biçimine özeldir. Bu sýnamayý
  #        etkinleþtirmek isterseniz, aþaðýdaki kurallardan size uygun
  #        olan birini (ama sadece birini) devreye sokun.
  #
  #deny
  #  message     = This address never sends outgoing mail. \
  #                You are responding to a forged sender address.
  #  log_message = bogus bounce for system user &lt;$local_part@$domain&gt;
  #  senders     = : postmaster@*
  #  domains     = +local_domains
  #  set acl_m9  = ${extract{1}{=}{${lc:$local_part}}}
  #
  # --- Alýcýlarýn yerel hesaplarý varsa, bu iki satýrý devreye alýn:
  #  set acl_m9  = ${extract{2}{:}{${lookup passwd {$acl_m9}{$value}}}{0}}
  #  !condition  = ${if and {{&gt;={$acl_m9}{500}} {&lt;${acl_m9}{60000}}} {true}}
  #
  # --- Posta teslimatýný Cyrus yapýyorsa bu satýrý devreye alýn:
  #  condition  = ${run {/usr/sbin/mbpath -q -s user.$acl_m9} {true}}
  # --------------------------------------------------------------------



  # Gönderici adresinin alanadý için varsa, SPF kayýtlarýný sorgulayalým.
  # Gönderici konak bu alanadý için yetkilendirilmiþse teslimatý kabul
  # yoksa red edeceðiz.
  #
  deny
    message     = [SPF] $sender_host_address is not allowed to send mail \
                  from $sender_address_domain
    log_message = SPF check failed.
    spf         = fail


  # Ýleti baþlýðýna bir SPF-Received: satýrý ekleyelim.
  warn
    message     = $spf_received


  # --------------------------------------------------------------------
  # Belli bir sunucu/gönderici/alýcý üçlüsü için grilisteleme durumunu
  # sýnayacaðýz. Bu satýrlarý devreye almadan önce "greylistd"'yi
  # kurmuþ olmanýz gerekir.
  # Bkz:  http://packages.debian.org/unstable/main/greylistd
  #
  # Grilisteleme iletilerini bir boþ gönderici için yapmýyoruz, çünkü
  # boþ gönderici adresli varlýk doðrulamasý iþimize yaramaz (gerçek
  # göndericinin varlýðýný sýnamak için bir konaða posta gönderemeyiz).
  #
  #defer
  #  message     = $sender_host_address is not yet authorized to deliver mail \
  #                from &lt;$sender_address&gt; to &lt;$local_part@$domain&gt;. \
  #                Please try later.
  #  log_message = greylisted.
  #  domains     = +local_domains : +relay_to_domains
  #  !senders    = : postmaster@*
  #  set acl_m9  = $sender_host_address $sender_address $local_part@$domain
  #  set acl_m9  = ${readsocket{/var/run/greylistd/socket}{$acl_m9}{5s}{}{}}
  #  condition   = ${if eq {$acl_m9}{grey}{true}{false}}
  #  delay       = 20s
  # --------------------------------------------------------------------

  # Alýcýyý kabul ediyoruz.
  accept
</pre> </td></tr></table></div>
      </p></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/spam-filtering-acl_mail_from_final.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/spam-filtering-exim-final.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/spam-filtering-acl_data_final.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">acl_mail_from </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> acl_data</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
