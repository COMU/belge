<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:56:01+03:00"><title>Yineleyiciler</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/ruby-ug.html" title="Ruby Kullanýcý Kýlavuzu"><link rel="previous" href="../howto/ruby-ug-control.html" title="Denetim Yapýlarý"><link rel="next" href="../howto/ruby-ug-oothinking.html" title="Nesne Yönelimli Düþünme"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Yineleyiciler</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/ruby-ug-control.html">Önceki</a> </td><th width="60%" align="center">Ruby Kullanýcý Kýlavuzu</th><td width="20%" align="right"> <a accesskey="n" href="../howto/ruby-ug-oothinking.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="ruby-ug-iterators"></a>Yineleyiciler</h2></div></dt><dd><p>
Yineleyiciler sadece Ruby'ye özgü bir kavram deðildir. Genel olarak çoðu nesneye yönelik yazýlým geliþtirme dilinde kullanýlmaktadýr. Lisp'te de yineleyiciler olarak adlandýrýlmasalar da  kullanýlmaktadýr. Ancak yineleyici kavramý neredeyse her dilde deðiþik bir anlam kazandýðý için önce bu kavramý daha ayrýntýlý anlatmaya çalýþalým:
  </p><p>
<i>Yinelemek</i> sözcüðü ayný þeyi birçok kez tekrarlamak anlamýna gelir.
  </p><p>
Kod yazarken deðiþik durumlarda döngülere ihtiyacýmýz olur. C'de <b><tt>for</tt></b> ya da <b><tt>while</tt></b> kullanarak iþimizi hallederiz. Örneðin,
 </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">char *str;
for (str = "abcdefg"; *str != '\0'; str++) {
  /* her karakter için iþlemler burada */
}</pre> </td></tr></table></div>
  </p><p>
C'nin <b><tt> for(...) </tt></b> sözdizimi döngünün yaratýlmasýnda soyutlama saðlayarak yardýmcý olsa da <tt>*str</tt>'nin bir boþ bir karakterle sýnanmasý yazýlýmcýnýn dizge yapýsý hakkýnda daha ayrýntýlý bilgi edinmesini gerektirir. Bu C'nin düþük-seviyeli olduðunu hissettiren nedenlerden biridir. Yüksek seviyeli diller yineleyicilere uyumluluklarýyla ün kazanmýþlardýr. Aþaðýdaki <b><tt>sh</tt></b> kabuk betiðini göz önünde bulunduralým:
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
#!/bin/sh

for i in *.[ch]; do
  # ... her dosya icin yapilacak birkaç iþlem
done
</pre> </td></tr></table></div>
  </p><p>
Bulunulan dizindeki tüm C kaynak ve baþlýk dosyalarý çalýþtýrýldý ve komut satýrý ayrýntýlarý tuttu.  C'den daha yüksek seviyeli olduðunu düþünüyorum, öyle deðil mi?
  </p><p>
Ancak göz önüne alýnmasý gereken baþka bir nokta daha var: bir dilin
gömülü veri yapýlarý için yineleyicileri desteklemesi güzel birþey olsa
da, geri dönüp kendi veri yapýlarýmýzý tekrarlatacak düþük seviyeli
döngüler yazmak hayal kýrýklýðý yaratacak bir iþ olacaktýr. Nesneye
yönelik yazýlým geliþtirmede, kullanýcýlar çoðu kez ardý ardýna veri türleri
tanýmlarlar ve bu ciddi bir sorun olabilir.
  </p><p>
Her nesneye yönelik yazýlým geliþtirme dili yineleyiciler için kolaylýklar içerir. Bazý diller bu iþ için özel sýnýflar tanýmlarken, Ruby yineleyicileri doðrudan tanýmlamayý tercih eder.
  </p><p>
Ruby'nin <b><tt>String</tt></b> türü bazý yararlý yineleyicilere sahiptir.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">"abc".each_byte{|c| printf "&lt;%c&gt;", c}; print "\n"</tt>
&lt;a&gt;&lt;b&gt;&lt;c&gt;
   <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
  </p><p>
<tt>each_byte</tt>, dizgedeki her karakter için bir yineleyicidir. Her bir karakter yerel bir deðiþken olan <tt>c</tt>'ye yerleþtirilir. Bu daha çok C koduna benzeyen bir þeyle açýklanabilir...
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">s="abc";i=0</tt>
   <tt class="empoutput">0</tt>
<tt>ruby&gt; </tt><tt class="empinput">while i&lt;s.length</tt>
    | <tt class="empinput">   printf "&lt;%c&gt;", s[i]; i+=1</tt>
    | <tt class="empinput">end; print "\n"</tt>
&lt;a&gt;&lt;b&gt;&lt;c&gt;
   <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
  </p><p>
Buna raðmen <tt>each_byte</tt> yineleyicisi hem kabul edilebilir bir basitliktedir hem de <b><tt>String</tt></b> sýnýfý radikal bir deðiþikliðe uðrasa da çalýþmaya devam eder. Yineleyicilerin baþka bir yararý da deðiþiklere karþý saðlam durmasýdýr ki bu da iyi bir kodun karakteristik özelliklerinden biridir (evet, sabýrlý olun, <i>sýnýflar</i> hakkýnda da konuþacaðýz.).
  </p><p>
<b><tt>String</tt></b>'in baþka bir yineleyicisi de <b><tt>each_line</tt></b>'dýr.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">"a\nb\nc\n".each_line{|l| print l}</tt>
a
b
c
   <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
  </p><p>
C'de satýr sýnýrlayýcýlarý bulmak, alt dizgeler üretmek gibi güç iþlerin yineleyicilerle kolayca üstesinden gelinebilir.
  </p><p>
Geçen bölümdeki <b><tt>for</tt></b> döngüsü, <b><tt>each</tt></b> iþlecini kullanarak tekrarlamayý saðlamaktaydý. <b><tt>String</tt></b>'in <b><tt>each</tt></b>'i ayný <b><tt>each_line</tt></b> gibi görev görür, o yüzden yukarýdaki örneði <b><tt>for</tt></b> ile tekrar yazalým:
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">for l in "a\nb\nc\n"</tt>
    | <tt class="empinput">  print l </tt>
    | <tt class="empinput">end</tt>
a
b
c
   <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
  </p><p>
Bulunan yineleyiciyi döngünün baþýndan itibaren tekrar ettirmek için <b><tt>retry</tt></b> denetim yapýsýný kullanabiliriz.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput"> c=0</tt>
   <tt class="empoutput">0</tt>
<tt>ruby&gt; </tt> <tt class="empinput">for i in 0..4</tt>
    | <tt class="empinput">  print i</tt>
    | <tt class="empinput">  if i == 2 and c == 0</tt>
    | <tt class="empinput">    c = 1</tt>
    | <tt class="empinput">    print "\n"</tt>
    | <tt class="empinput">    retry</tt>
    | <tt class="empinput">  end</tt>
    | <tt class="empinput">end; print "\n"</tt>
012
01234
   <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
  </p><p>
Yineleyici tanýmlamasýnda bazen <b><tt>yield</tt></b>'le karþýlaþýrýz.  <b><tt>yield</tt></b>, denetimi yineleyiciye parametre olarak geçilen kod bloðuna verir (bu konu <a href="../howto/ruby-ug-pobjects.html" class="xref" title="Yordam Nesneleri"> Yordam Nesneleri</a> bölümünde daha ayrýntýlý anlatýlacaktýr).
  </p><p>
Aþaðýdaki örnekte, argümanda verilen sayý kadar bir kod bloðunu tekrarlayan <b><tt>repeat</tt></b> yineleyicisi tanýmlanmýþtýr.
   </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">def repeat(num)</tt>
    | <tt class="empinput">  while num &gt; 0</tt>
    | <tt class="empinput">    yield</tt>
    | <tt class="empinput">    num -= 1</tt>
    | <tt class="empinput">  end</tt>
    | <tt class="empinput">end</tt>
   <tt class="empoutput">nil</tt>
<tt>ruby&gt; </tt><tt class="empinput">repeat(3) { print "foo\n" }</tt>
foo
foo
foo
   <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
  </p><p>
<b><tt>retry</tt></b> ile <b><tt>while</tt></b> gibi çalýþan ancak hýz açýsýndan pek de pratik olmayan bir yineleyici tanýmlayabiliriz.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">def WHILE(cond)</tt>
    | <tt class="empinput">  return if not cond</tt>
    | <tt class="empinput">  yield</tt>
    | <tt class="empinput">  retry</tt>
    | <tt class="empinput">end</tt>
   <tt class="empoutput">nil</tt>
<tt>ruby&gt; </tt><tt class="empinput">i=0; WHILE(i&lt;3) { print i; i+=1 }</tt>
012  nil
</pre> </td></tr></table></div>
  </p><p>
Yineleyicinin ne olduðunu anladýnýz mý? Bir kaç kýsýtlama hariç, kendi
yineleyicinýzý yazabilirsiniz, aslýnda yeni bir veri türü
tanýmladýðýnýz zaman ona uygun bir yineleyici tanýmlamanýz da uygun
olacaktýr. Yukarýdaki örnekler pek de kullanýþlý örnekler sayýlmazlar.
Sýnýflarý daha iyi anladýðýmýzda daha uygulanabilir yineleyiciler hakkýnda
konuþabiliriz.
  </p></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/ruby-ug-control.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/ruby-ug.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/ruby-ug-oothinking.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Denetim Yapýlarý </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Nesne Yönelimli Düþünme</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
