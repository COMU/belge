<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-10-17T02:13:55+03:00"><title>Kimlik Kanýtlama Sunucusu: FreeRADIUS'un Kurulmasý</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/8021x-howto.html" title="802.1X Port Tabanlý Kimlik Kanýtlama NASIL"><link rel="previous" href="../howto/8021x-howto-cert.html" title="Sertifikalarýn Saðlanmasý"><link rel="next" href="../howto/8021x-howto-xsupplicant.html" title="Ýstemci: Xsupplicant'ýn Kurulmasý"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Kimlik Kanýtlama Sunucusu: FreeRADIUS'un Kurulmasý</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/8021x-howto-cert.html">Önceki</a> </td><th width="60%" align="center">802.1X Port Tabanlý Kimlik Kanýtlama NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/8021x-howto-xsupplicant.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="8021x-howto-FreeRADIUS"></a>Kimlik Kanýtlama Sunucusu: FreeRADIUS'un Kurulmasý</h2></div></dt><dd><p>
FreeRADIUS tamamen GPL'li RADIUS sunucu uygulamasýdýr. Kimlik kanýtlama mekanizmalarýný geniþ çapta destekler, ama bu belgede örnek olarak PEAP kullanýlmýþtýr.
 </p><dl><div class="sect2"><dt><div> <h3 class="title"><a name="8021x-howto-instradius"></a>FreeRADIUS'un Kurulumu</h3></div></dt><dd><div class="procedure"><p><b>Yönerge 4.1. Kurulum</b></p><ol type="1"><li><p>
FreeRADIUS sitesine gidin, <a href="http://www.freeradius.org/" target="_top">http://www.freeradius.org/</a> ve en son sürümü indirin.
   </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
<tt># </tt><b><tt>cd /usr/local/src</tt></b>
<tt># </tt><b><tt>wget ftp://ftp.freeradius.org/pub/radius/freeradius-1.0.0.tar.gz</tt></b>
<tt># </tt><b><tt>tar zxfv freeradius-1.0.0.tar.gz</tt></b>
<tt># </tt><b><tt>cd freeradius-1.0.0</tt></b>
</pre> </td></tr></table></div>
  </p></li><li><p>
Paketi yapýlandýrýn, derleyin ve kurun:
   </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
<tt># </tt><b><tt>./configure</tt></b>
<tt># </tt><b><tt>make</tt></b>
<tt># </tt><b><tt>make install</tt></b>
</pre> </td></tr></table></div>
   </p><p>
<b><tt>configure</tt></b><i> betiðini çalýþtýrýrken seçenek belirtebilirsiniz. Daha fazla bilgi için </i><b><tt>./configure --help</tt></b><i> kullanýn veya README dosyasýný okuyun.</i>
    </p></li></ol></div><p>
Çalýþtýrabilir dosyalar <tt>/usr/local/bin</tt> ve <tt>/usr/local/sbin</tt>'e, yapýlandýrma dosyalarý ise <tt>/usr/local/etc/raddb</tt> altýna kurulur.
 </p><p>
Eðer birþey yanlýþ giderse, kaynakla birlikte gelen <tt>INSTALL</tt> ve <tt>README</tt> dosyalarýný okuyun. <a href="http://www.freeradius.org/faq/" target="_top">RADIUS SSS</a>'de deðerli bilgiler içerir.
 </p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="8021x-howto-confradius"></a>FreeRADIUS'un Yapýlandýrýlmasý</h3></div></dt><dd><p>
FreeRADIUS büyük ve güçlü bir yapýlandýrma dosyasýna sahiptir. O kadar büyüktür ki, bu dosya daha küçük birkaç dosyaya parçalanýp daha sonra bu dosyalar ana <tt>radius.conf</tt> dosyasýna "dahil edilmektedir".
 </p><p>
Ýstediðinizi yapmanýz için FreeRADIUS'u kullanmanýn ve ayaða kaldýrmanýn çeþitli yollarý vardýr: örn., kullanýcý bilgisini LDAP, SQL, PDC, Kerberos, vs.'den alýn. Bu belgede, düz metin dosyasý <tt>users</tt>'taki kullanýcý bilgisi kullanýlmaktadýr.
 </p><p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="../images/xsl/tip.png"></td><th>Ýpucu</th></tr><tr><td colspan="2" align="left" valign="top"><p>
Yapýlandýrma dosyalarýna ayrýntýlý bir þekilde yorum satýrlarý eklenmiþtir, ama eðer yeterli gelmezse kaynakla birlikte gelen <tt>doc/</tt> dizini ek bilgi içerir.
 </p></td></tr></table></div></p><div class="procedure"><p><b>Yönerge 4.2. Yapýlandýrma</b></p><ol type="1"><li><p>
Yapýlandýrma dosyalarý <tt>/usr/local/etc/raddb/</tt> altýnda bulunabilir.
   </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
<tt># </tt><b><tt>cd /usr/local/etc/raddb/</tt></b>
</pre> </td></tr></table></div>
  </p></li><li><p>
Ana yapýlandýrma dosyasý<tt>radiusd.conf</tt>'u açýn, <i>ve yorum satýrlarýný okuyun!</i> Þifreli PEAP tüneli içinde, MS-CHAPv2 kimlik kanýtlama mekanizmasý kullanýlýr.
   </p><ol type="a"><li><p>
MPPE [<a href="http://www.ietf.org/rfc/rfc3078.txt" target="_top">RFC3078</a>] PMK'yi AP'ye göndermekten sorumludur. Aþaðýdaki ayarlarýn yapýldýðýndan emin olun:
   </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
# MODULES altýnda mschap'ýn yorum satýrý gibi yer almadýðýndan emin olun!
mschap {
  # authtype deðeri, eðer varsa, kimlik kanýtlama süresince
  # Auth-Type'ýn üstüne yazmak (veya eklemek) için kullanýlacak.
  # Normalde, MS-CHAP olmalý.
  authtype = MS-CHAP

  # eðer use_mppe no'ya ayarlanmamýþsa, mschap,
  # MS-CHAPv2 için,MS-CHAPv1 ve MS-MPPE-Recv-Key/MS-MPPE-Send-Key
  # için MS-CHAP-MPPE-Keys ekleyecektir.
  use_mppe = yes

  # eðer mppe etkinse, require_encryption ile
  # þifreleme etkinleþtirilebilir.
  #
  require_encryption = yes

  # require_strong her zaman 128 bitlik anahtar
  # þifrelemesi gerektirir.
  #
  require_strong = yes

  authtype = MS-CHAP
  # modül kimlik kanýtlamayý kendi kendine yapabilir VEYA
  # bir Windows Domain Controller kullanabilir. Bunun nasýl
  # yapýlacaðý için radius.conf dosyasýna bakýnýz.
}
</pre> </td></tr></table></div>
      </p></li><li><p>
<tt>authorize</tt> ve <tt>authenticate</tt>'in þunlarý içerdiðinden emin olun:
   </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
authorize {
    preprocess
    mschap
    suffix
    eap
    files
}

authenticate {

      #
      #  MSCHAP kimlik kanýtlamasý.
      Auth-Type MS-CHAP {
            mschap
      }

      #
      #  EAP kimlik kanýtlamasýna izin ver.
      eap
  }
</pre> </td></tr></table></div>
      </p></li></ol></li><li><p>
<tt>clients.conf</tt> dosyasýný hangi aða hizmet ettiðini belirlemek için deðiþtirin:
   </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
# Burada, hangi aða hizmet verdiðimizi belirliyoruz:
client 192.168.0.0/16 {
    # Bu Kimlik Kanýtlayýcý (eriþim noktasý) ve Kimlik
    # Kanýtlama Sunucusu (RADIUS) arasýnda paylaþýlan sýrdýr.
    secret          = SharedSecret99
    shortname       = testnet
}
</pre> </td></tr></table></div>
    </p></li><li><p>
<tt>eap.conf</tt> da oldukça açýk olmalý.
    </p><ol type="a"><li><p>
<tt>default_eap_type</tt>'ý <tt>peap</tt>'e ayarlayýnýz:
   </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
default_eap_type = peap
</pre> </td></tr></table></div>
      </p></li><li><p>
PEAP TLS kullandýðý için TLS bölümü þunlarý içermeli:
   </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
tls {
    # Özel anahtar parolasý
       private_key_password = SecretKeyPass77
    # Özel anahtar
    private_key_file = ${raddbdir}/certs/cert-srv.pem
    # Güvenilir Üst Sertifika Yetkilisi
    CA_file = ${raddbdir}/certs/demoCA/cacert.pem
    dh_file = ${raddbdir}/certs/dh
    random_file = /dev/urandom
    }
</pre> </td></tr></table></div>
      </p></li><li><p>
<tt>peap</tt> bölümünü bulun ve aþaðýdakini içerdiðinden emin olun:
   </p><p>
<div class="programlisting" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="programlisting">
peap {
  #  Tünelli EAP oturumu tünelsiz EAP modülünden farklý
  #  bir EAP türüne ihtiyaç duyar.
  #  PEAP tünelinde Windows istemcileri tarafýndan
  #  desteklenen öntanýmlý tür olarak MS-CHAPv2
  #  kullanmanýzý tavsiye ederiz.
  default_eap_type = mschapv2
}
</pre> </td></tr></table></div>
      </p></li></ol></li><li><p>
Kullanýcý bilgisi bir düz metin dosyasý olan <tt>users</tt>'ta tutulur. Kullanýcý bilgisini tutmak için daha karmaþýk bir çözüm tercih edilebilirdi (SQL, LDAP, PDC, vs.)., þu an bir IETF taslaðýdýr.
   </p><p>
<tt>users</tt> dosyasýnýn aþaðýdaki kaydý içerdiðinden emin olun:
   </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
"testuser"      User-Password == "Secret149"
</pre> </td></tr></table></div>
   </p></li></ol></div></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/8021x-howto-cert.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/8021x-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/8021x-howto-xsupplicant.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Sertifikalarýn Saðlanmasý </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Ýstemci: Xsupplicant'ýn Kurulmasý</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
