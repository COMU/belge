<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:54:26+03:00"><title>form_driver: Form sisteminin dolap beygiri</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/ncurses-howto-forms.html" title="Form Kütüphanesi"><link rel="previous" href="../howto/ncurses-howto-filedvalidate.html" title="Alan Doðrulama"><link rel="next" href="../howto/ncurses-howto-tools.html" title="Araçlar ve Küçük Uygulama Kütüphaneleri"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">form_driver: Form sisteminin dolap beygiri</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/ncurses-howto-filedvalidate.html">Önceki</a> </td><th width="60%" align="center">Form Kütüphanesi</th><td width="20%" align="right"> <a accesskey="n" href="../howto/ncurses-howto-tools.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect2"><dt><div> <h3 class="title"><a name="ncurses-howto-formdriver"></a><tt>form_driver</tt>: Form sisteminin dolap beygiri</h3></div></dt><dd><p>
Menü sisteminde olduðu gibi, <tt>form_driver()</tt> form sisteminde çok önemli bir rol oynamaktadýr. Form sistemine yapýlan tüm istekler <tt>form_driver()</tt>'dan süzülmek zorundadýr.
</p><p>
<dl><dt><table width="100%" cellpadding="3" cellspacing="1" border="0" class="func"><tr class="funcdef"><td><table cellpadding="5" cellspacing="0" border="0" class="funcinline"><tr><td valign="top" class="tt" nowrap><tt>int <b><tt>form_driver</tt></b></tt></td><td valign="top"><table cellpadding="0" cellspacing="0" border="0" class="funcinline">
<tr>
  <td valign="top" class="paramdef"><pre class="paramdef">(FORM *<i>form</i>,</pre></td>
  <td valign="top" class="paramdef"><pre class="paramdef">/* deðiþtirilecek form */</pre></td>
</tr><tr>
  <td valign="top" class="paramdef"><pre class="paramdef">int    <i>istek</i>);</pre></td>
  <td valign="top" class="paramdef"><pre class="paramdef">/* form istek kodu */</pre></td>
</tr></table></td></tr></table></td><td align="right">iþlev</td></tr></table></dt></dl>
</p><p>
Yukarýdaki örneklerin bazýlarýnda da gördüðünüz gibi, bir döngü kurup kullanýcýdan gelen istekleri kontrol edip bunun bir veri mi yoksa kullanýcý isteði mi olduðuna karar vermeniz gerekir. Form istekleri daha sonra iþlemi gerçeklemesi için <tt>form_driver()</tt>'a gönderilir.
</p><p>
Ýstekler kabaca þu alt sýnýflara ayrýlabilir. Deðiþik isteklerin kulanýmlarý aþaðýda açýklanmýþtýr:
</p><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-pagenavreq"></a>Sayfada Gezinti Ýstekleri</h4></div></dt><dd><p>
Bu istekler form içerisinde sayfa bazýnda hareketlere sebep olur, form ekranýnýn kaymasý saðlanýr. Bir form pek çok sayfadan oluþmuþ olabilir. Eðer çok sayýda alandan ve mantýksal bölümden oluþmuþ büyük bir formunuz varsa onu sayfalara bölebilirsiniz.  <tt>set_new_page()</tt> belirtilen alanda yeni bir sayfa oluþturur.
</p><p>
<dl><dt><table width="100%" cellpadding="3" cellspacing="1" border="0" class="func"><tr class="funcdef"><td><table cellpadding="5" cellspacing="0" border="0" class="funcinline"><tr><td valign="top" class="tt" nowrap><tt>int <b><tt>set_new_page</tt></b></tt></td><td valign="top"><table cellpadding="0" cellspacing="0" border="0" class="funcinline">
<tr>
  <td valign="top" class="paramdef"><pre class="paramdef">(FIELD *<i>alan</i>,</pre></td>
  <td valign="top" class="paramdef"><pre class="paramdef">/* deðiþtirilecek alan */</pre></td>
</tr><tr>
  <td valign="top" class="paramdef"><pre class="paramdef">bool    <i>sayfa_kesme</i>);</pre></td>
  <td valign="top" class="paramdef"><pre class="paramdef">/* sayfa kesmesi yapýlacak mý? */</pre></td>
</tr></table></td></tr></table></td><td align="right">iþlev</td></tr></table></dt></dl>
</p><p>
Aþaðýdaki istekler farklý sayfalara hareket etmenizi saðlar.
</p><p>
<div class="itemizedlist"><ul type="disc"><li><tt>REQ_NEXT_PAGE</tt> Sonraki form sayfasýna hareket
</li><li><tt>REQ_PREV_PAGE</tt> Önceki form sayfasýna hareket
</li><li><tt>REQ_FIRST_PAGE</tt> Ýlk form sayfasýna hareket
</li><li><tt>REQ_LAST_PAGE</tt> Son form sayfasýna hareket
</li></ul></div>
</p><p>
Bu istekler döngüsel þekilde liste üzerinde hareket eder; yani <tt>REQ_NEXT_PAGE</tt> son sayfadan sonra ilk sayfaya gider, <tt>REQ_PREV_PAGE</tt> ilk sayfadan sonra son sayfaya gider.
</p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-interfieldnavreq"></a> Alan Ýçi Gezinti Ýstekleri</h4></div></dt><dd><p>
Ayný sayfadaki alanlarda gezinti isteklerinde bunlar kullanýlýr:
</p><p>
<div class="itemizedlist"><ul type="disc"><li><tt>REQ_NEXT_FIELD</tt> Sonraki alana git
</li><li><tt>REQ_PREV_FIELD</tt> Önceki alana git
</li><li><tt>REQ_FIRST_FIELD</tt> Ýlk alana git
</li><li><tt>REQ_LAST_FIELD</tt>  Son alana git
</li><li><tt>REQ_SNEXT_FIELD</tt> Sýralanmýþ sonraki alana git
</li><li><tt>REQ_SPREV_FIELD</tt> Sýralanmýþ önceki alana git
</li><li><tt>REQ_SFIRST_FIELD</tt> Sýralanmýþ ilk alana git
</li><li><tt>REQ_SLAST_FIELD</tt> Sýralanmýþ son alana git
</li><li><tt>REQ_LEFT_FIELD</tt> Alanýn soluna git
</li><li><tt>REQ_RIGHT_FIELD</tt> Alanýn saðýna git
</li><li><tt>REQ_UP_FIELD</tt> Alanýn yukarýsýna git
</li><li><tt>REQ_DOWN_FIELD</tt> Alanýn aþaðýsýna git
</li></ul></div>
</p><p>
Bu istekler bir sayfadaki alan listesi üzerinde döngüsel þekilde iþlenir; yani <tt>REQ_NEXT_FIELD</tt> son alandan sonra ilk alana döner, <tt>REQ_PREV_FIELD</tt> ilk alandan sonra son alana döner. Bunlar için (ayný zamanda <tt>REQ_FIRST_FIELD</tt> ve <tt>REQ_LAST_FIELD</tt>) alanlarýn sýrasý form dizisindeki alan göstericisinin sýrasýdýr (<tt>new_form()</tt> veya <tt>set_form_fields()</tt> ile oluþturulmuþtur).
</p><p>
Alanlarý ekranda görüntülendikleri þekilde soldan saða ve yukarýdan aþaðý gezmek de mümkündür. Bunu gerçeklemek için sýralanmýþ hareket listesinden ikinci guruptakileri kullanýn.
</p><p>
Son olarak da alanlar arasýnda görsel yukarý, aþaðý, sað, sol yönlerini kullanarak gezinmek mümkündür. Bunu gerçeklemek için, üçüncü guruptaki dört isteði kullanýn. Bir formun bu tür iþler için baþlangýcýnýn sol üst köþesi olduðunu unutmayýn.
</p><p>
Örneðin, çok satýrlý bir B alaný, tek satýrlý A ve C alanlarýnýn ayný satýrda A, B, C þeklinde sýralandýðýný düþünün. A alanýndan verilmiþ <tt>REQ_MOVE_RIGHT</tt> isteði A, B ve C nin ayný satýrý paylaþmasý halinde B alanýna geçmeyi saðlayacaktýr. Aksi halde B ve C alanlarýný atlayacaktýr.
</p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-intrafieldnavreq"></a>Alan Ýçi Dahili Gezinti Ýstekleri</h4></div></dt><dd><p>
Bu istekler o an düzenlenilen alan içerisinde imlecin hareketini saðlar.
</p><p>
<div class="itemizedlist"><ul type="disc"><li><tt>REQ_NEXT_CHAR</tt> Bir sonraki karaktere git</li><li><tt>REQ_PREV_CHAR</tt> Bir önceki karaktere git</li><li><tt>REQ_NEXT_LINE</tt> Bir sonraki satýra git</li><li><tt>REQ_PREV_LINE</tt> Bir önceki satýra git</li><li><tt>REQ_NEXT_WORD</tt> Bir sonraki kelimeye git</li><li><tt>REQ_PREV_WORD</tt> Bir önceki kelimeye git </li><li><tt>REQ_BEG_FIELD</tt> Alanýn baþýna git</li><li><tt>REQ_END_FIELD</tt> Alanýn sonuna git</li><li><tt>REQ_BEG_LINE</tt> Satýr baþýna git</li><li><tt>REQ_END_LINE</tt> Satýr sonuna git</li><li><tt>REQ_LEFT_CHAR</tt> Alan içerisinde sola git</li><li><tt>REQ_RIGHT_CHAR</tt> Alan içerisinde saða git</li><li><tt>REQ_UP_CHAR</tt> Alan içerisinde yukarý git</li><li><tt>REQ_DOWN_CHAR</tt> Alan içerisinde aþaðý git</li></ul></div>
</p><p>
Her kelime bir önceki bir sonraki kelimeler arasýnda boþluk karakteriyle ayrýlýr. Satýr veya alanýn baþýna ve sonuna gitmeye yarayan komutlar kendi menzilleri içerisindeki ilk veya son dolgu karakteri olmayan karakteri arar.
</p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-scrollreq"></a>Kaydýrma Ýstekleri</h4></div></dt><dd><p>
Çalýþma zamanýnda büyüyebilen ve açýk þekilde ekranda görülmeyen satýrlardan oluþmuþ alanlar kaydýrýlabilir. Tek satýrlýk alanlar yatay olarak kaydýrýlýr, çok satýrlýk alanlar dikey olarak kaydýrýlýr. Pek çok kaydýrma iþlemi alan içi hareketlerle ve düzenleme ile baþlatýlýr (kütüphane imleci görünür kýlmak için alan içerisinde kaydýrma iþlemi gerçekler). Açýk þekilde kaydýrma iþlemlerine istekte bulunmak aþaðýdaki þekilde mümkündür:
</p><p>
<div class="itemizedlist"><ul type="disc"><li><tt>REQ_SCR_FLINE</tt> Bir satýrýn ilerisine dikey olarak kaydýrma</li><li><tt>REQ_SCR_BLINE</tt> Bir satýrýn gerisine dikey olarak kaydýrma</li><li><tt>REQ_SCR_FPAGE</tt> Bir sayfanýn ilerisine dikey kaydýrma</li><li><tt>REQ_SCR_BPAGE</tt> Bir sayfanýn gerisine dikey olarak kaydýrma</li><li><tt>REQ_SCR_FHPAGE</tt> Bir sayfanýn yarýsýna ileri yönde dikey kaydýrma</li><li><tt>REQ_SCR_BHPAGE</tt> Bir sayfanýn yarýsýna geri yönde dikey kaydýrma</li><li><tt>REQ_SCR_FCHAR</tt> Yatay olarak bir karakter ilerisine kaydýrma</li><li><tt>REQ_SCR_BCHAR</tt> Yatay olarak bir karakter gerisine kaydýrma</li><li><tt>REQ_SCR_HFLINE</tt> Yatay olarak bir alan ilerisine kaydýrma</li><li><tt>REQ_SCR_HBLINE</tt> Yatay olarak bir alan gerisine kaydýrma</li><li><tt>REQ_SCR_HFHALF</tt> Yatay olarak yarým alan ilerisine kaydýrma</li><li><tt>REQ_SCR_HBHALF</tt> Yatay olarak yarým alan gerisine kaydýrma</li></ul></div>
</p><p>
Kaydýrma iþlemleri için, bir alanýn sayfasý görünür kýsmýnýn yüksekliðidir.
</p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-editreq"></a>Ýstekleri Düzenlemek</h4></div></dt><dd><p>
Form sürücüsüne bir ASCII karakter gönderdiðiniz zaman, alan veri belleðine bir karakter eklemek için bir istek olarak algýlanýr. Bunun bir araya ekleme mi yoksa üzerine yazma mý olduðu alanýn düzenleme kipine baðlýdýr (varsayýlan araya eklemedir).
</p><p>
Aþaðýdaki istekler alaný düzenlemeyi ve düzenleme kipini deðiþtirmeyi saðlar:
</p><p>
<div class="itemizedlist"><ul type="disc"><li><tt>REQ_INS_MODE</tt> Araya ekleme kipini ayarla</li><li><tt>REQ_OVL_MODE</tt> Üzerine yazma kipini ayarla</li><li><tt>REQ_NEW_LINE</tt> Yeni satýr isteði (açýklama için aþaðýya bakýnýz)</li><li><tt>REQ_INS_CHAR</tt> Karakterin olduðu konuma boþluk yerleþtir</li><li><tt>REQ_INS_LINE</tt> Karakterin olduðu konuma boþ satýr ekle</li><li><tt>REQ_DEL_CHAR</tt> Ýmlecin olduðu konumdaki karakteri sil</li><li><tt>REQ_DEL_PREV</tt> Ýmlecin olduðu konumdan önceki kelimeyi sil</li><li><tt>REQ_DEL_LINE</tt> Ýmlecin olduðu satýrý sil</li><li><tt>REQ_DEL_WORD</tt> Ýmlecin olduðu konumdaki kelimeyi sil</li><li><tt>REQ_CLR_EOL</tt> Satýrý sonuna kadar temizle </li><li><tt>REQ_CLR_EOF</tt> Alaný sonuna kadar temizle</li><li><tt>REQ_CLR_FIELD</tt> Alanýn tüm içeriðini temizle</li></ul></div>
</p><p>
<tt>REQ_NEW_LINE</tt> ve <tt>REQ_DEL_PREV</tt> istekleri kýsmen bazý form seçenek çiftleri tarafýndan kontrol edilen karmaþýk isteklerdir. Özel durumlar imlecin alanýn baþýnda veya alanýn sonunda olmasý durumunda etkin olur.
</p><p>
Önce <tt>REQ_NEW_LINE</tt> isteðini gözönüne alalým:
</p><p>
Araya ekleme kipinde <tt>REQ_NEW_LINE</tt>, halihazýrdaki imlecin olduðu konumdan satýrý keser, kalaný yeni bir satýr olarak ekler ve imleci o satýrýn baþýna konumlandýrýr (bunu alan önbelleðine yeni satýr eklemek olarak düþünebilirsiniz).
</p><p>
Üzerine yazma kipinde <tt>REQ_NEW_LINE</tt>, imlecin o an bulunduðu konumdan itibaren satýrý satýr sonuna kadar siler. Daha sonra imleç yeni satýrýn baþýna konumlanýr.
</p><p>
Yine de alanýn baþýnda veya sonunda <tt>REQ_NEW_LINE</tt> aslýnda, <tt>REQ_NEXT_FIELD</tt> gerçekler. Bu özel durumun gerçekleþmesi için <tt>O_NL_OVERLOAD</tt> özelliði kapalý olmalýdýr.
</p><p>
Þimdi de <tt>REQ_DEL_PREV</tt> isteðini ele alalým:
</p><p>
<tt>REQ_DEL_PREV</tt>'in normal davranýþý bir önceki karakteri silmek þeklindedir. Eðer araya ekleme kipi açýk, imleç satýr baþýndaysa ve o satýrdaki metin bir öncekine sýðýyorsa, o anki satýrýn içeriðini bir öcnekinin sonuna ekler ve o anki satýrý siler (bunu alan önbellek alanýndan bir satýrýn silinmesi olarak düþünebilirsiniz).
</p><p>
Aslýnda <tt>REQ_DEL_PREV</tt> alanýn baþýnda <tt>REQ_PREV_FIELD</tt> gibi davranýr.
</p><p>
Eðer <tt>O_BS_OVERLOAD</tt> kapalýysa, bu özel davranýþ biçimi etkisizdir ve form sürücüsü sadece <tt>E_REQUEST_DENIED</tt> üretir.
</p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-orderreq"></a>Emir Ýstekleri</h4></div></dt><dd><p>
Eðer alanýnýzýn türü emir türünde ve verilmiþ bir türün sonraki ve önceki deðerlerini almakla iliþkilendirilmiþ iþlevler içeriyorsa, alan ön belleðinde bu deðeri eþleyecek istekler vardýr:
</p><p>
<div class="itemizedlist"><ul type="disc"><li><tt>REQ_NEXT_CHOICE</tt> O anki deðerden sonrakini önbelleðe yerleþtir.
</li><li><tt>REQ_PREV_CHOICE</tt> O anki deðerin öncekisini önbelleðe yerleþtir.
</li></ul></div>
</p><p>
Yerleþik alan türleri için sadece <tt>TYPE_ENUM</tt>'un yerleþik önceki ve sonraki iþlevleri vardýr. Kendinize ait bir alan türü tanýmlarsanýz, kendi sýralama iþlevlerinizi iliþiklendirebilirsiniz  (Özel Doðrulama Türleri'ne bakýnýz -- Ç.N.: belgede bulunamadý).
</p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="ncurses-howto-appliccommands"></a>Uygulama Komutlarý</h4></div></dt><dd><p>
<tt>KEY_MAX</tt>'tan büyük ve sabit <tt>MAX_COMMAND</tt>'den küçük veya eþit imleç deðerleri üzerindeki form istekleri tamsayý olarak gösterilir. Bu sýnýr deðerleri içerisindeki bir deðer <tt>form_driver()</tt> tarafýndan ihmal edilir. Dolayýsýyla bu, uygulama tarafýndan herhangi bir amaç için kullanýlabilir. Uygulamaya özgü bir davranýþ olarak ele alýnýp buna özgü bir davranýþ sergilenebilir.
</p></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/ncurses-howto-filedvalidate.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/ncurses-howto-forms.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/ncurses-howto-tools.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Alan Doðrulama </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Araçlar ve Küçük Uygulama Kütüphaneleri</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
