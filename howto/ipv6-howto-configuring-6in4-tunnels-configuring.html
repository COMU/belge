<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-10-17T02:13:02+03:00"><title>Noktadan-noktaya tünel yapýlandýrmasý</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/ipv6-howto-configuring-6in4-tunnels.html" title="IPv4 içinde IPv6 tüneli yapýlandýrmak"><link rel="previous" href="../howto/ipv6-howto-configuring-6in4-tunnels-monitoring.html" title="Varolan tünellerin görüntülenmesi"><link rel="next" href="../howto/ipv6-howto-configuring-6in4-tunnels-setting.html" title="6'ya 4 tünellerin ayarlarý"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Noktadan-noktaya tünel yapýlandýrmasý</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/ipv6-howto-configuring-6in4-tunnels-monitoring.html">Önceki</a> </td><th width="60%" align="center">IPv4 içinde IPv6 tüneli yapýlandýrmak</th><td width="20%" align="right"> <a accesskey="n" href="../howto/ipv6-howto-configuring-6in4-tunnels-setting.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect2"><dt><div> <h3 class="title"><a name="ipv6-howto-configuring-6in4-tunnels-configuring"></a>Noktadan-noktaya tünel yapýlandýrmasý</h3></div></dt><dd><p>
Noktadan-noktaya tünellerin eklenmesi ve kaldýrýlmasý üç farklý þekilde yapýlabilmektedir.
  </p><p>
<b><tt>ip</tt></b> komutunu kullanarak tünel yapýlandýrmasý hakkýnda iyi bir kaynak: <a href="http://www.deepspace6.net/docs/iproute2tunnel-en.html" target="_top">Configuring tunnels with iproute2 (article)</a> (<a href="http://mirrors.bieringer.de/www.deepspace6.net/docs/iproute2tunnel-en.html" target="_top">yansý</a>).
  </p><dl><div class="sect3"><dt><div> <h4 class="title"><a name="id13"></a> Noktadan-noktaya tüneli eklemek</h4></div></dt><dd><div class="variablelist"><dl><dt><span class="term"><tt>ip</tt> kullanarak</span></dt><dd>
Hali hazýrdaki küçük boyutlu tünelleri oluþturmak için kullanýlan yaygýn yöntemdir.
  <p></p><p>
Tünel aygýtý oluþturmak için kullanýmý þöyledir (öntanýmlý TTL deðeri 0 olduðundan yenisi tayin edilmelidir).
  </p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/ip tunnel add </tt></b><i>aygýt </i><b><tt>mode sit ttl </tt></b><i>öntanýmlý_ttl </i><b><tt>remote </tt></b><i>yabancý_tünelin_ipv4adresi </i><b><tt>local </tt></b><i>yerel_ipv4adres</i>
</pre> </td></tr></table></div>
  </p><p>Kullaným (üç tünel için genel örnek):</p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/ip tunnel add sit1 mode sit ttl </tt></b><i>öntanýmlý_ttl </i><b><tt>remote </tt></b><i>1inci_yabancý_tünelin_ipv4adresi </i><b><tt>local </tt></b><i>yerel_ipv4adres</i>
<b><tt>/sbin/ip link set dev sit1 up</tt></b>
<b><tt>/sbin/ip -6 route add </tt></b><i>1inci_rotanýn_öneki </i><b><tt>dev sit1 metric 1</tt></b>
<b><tt>/sbin/ip tunnel add sit2 mode sit ttl </tt></b><i>öntanýmlý_ttl 2nci_yabancý_tünelin_ipv4adresi </i><b><tt>local </tt></b><i>yerel_ipv4adres</i>
<b><tt>/sbin/ip link set dev sit2 up</tt></b>
<b><tt>/sbin/ip -6 route add </tt></b><i>2nci_rotanýn_öneki </i><b><tt>dev sit2 metric 1</tt></b>
<b><tt>/sbin/ip tunnel add sit3 mode sit ttl </tt></b><i>öntanýmlý_ttl 3üncü_yabancý_tünelin_ipv4adresi </i><b><tt>local </tt></b><i>yerel_ipv4adres</i>
<b><tt>/sbin/ip link set dev sit3 up</tt></b>
<b><tt>/sbin/ip -6 route add </tt></b><i>3üncü_rotanýn_öneki </i><b><tt>dev sit3 metric 1</tt></b>
</pre> </td></tr></table></div>
  </p><p></p></dd><dt><span class="term"><tt>ifconfig</tt> ve <tt>route</tt> kullanarak (önerilmez)</span></dt><dd>
Bu yöntem biraz garip olduðundan önerilmemektedir. Bir tünel eklenirse problem olmazken, eðer birden çok tünel yapýlandýrýsanýz, ilk yapýlandýrdýklarýnýzý kapatýp diðerlerinini çalýþýr halde býrakmanýz kolay olmamaktadýr.
  <p></p><p>Kullaným (üç tünel için genel örnek):</p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/ifconfig sit0 up</tt></b>
<b><tt>/sbin/ifconfig sit0 tunnel </tt></b><i>1inci_yabancý_tünelin_ipv4adresi</i>
<b><tt>/sbin/ifconfig sit1 up</tt></b>
<b><tt>/sbin/route -A inet6 add </tt></b><i>1inci_rotanýn_öneki </i><b><tt>dev sit1</tt></b>
<b><tt>/sbin/ifconfig sit0 tunnel </tt></b><i>2nci_yabancý_tünelin_ipv4adresi</i>
<b><tt>/sbin/ifconfig sit2 up</tt></b>
<b><tt>/sbin/route -A inet6 add </tt></b><i>2nci_rotanýn_öneki </i><b><tt>dev sit2</tt></b>
<b><tt>/sbin/ifconfig sit0 tunnel </tt></b><i>3üncü_yabancý_tünelin_ipv4adresi</i>
<b><tt>/sbin/ifconfig sit3 up</tt></b>
<b><tt>/sbin/route -A inet6 add </tt></b><i>3üncü_rotanýn_öneki </i><b><tt>dev sit3</tt></b>
</pre> </td></tr></table></div>
  </p><p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="../images/xsl/warning.png"></td><th>Önemli Uyarý</th></tr><tr><td colspan="2" align="left" valign="top"><p>
BU YÖNTEMÝ KULLANMAYIN, çünkü böyle bir yapýlandýrma internetin her yerinden ulaþýlabilen bir "otomatik tünelleme" saðlamaktadýr. Bu göze alýnamaz bir risktir.
  </p></td></tr></table></div></p><p></p></dd><dt><span class="term">Sadece <tt>route</tt> kullanarak</span></dt><dd>
Tünel yapýlandýrmasýný NBMA (Non Broadcast Multiple Access) tarzýnda da yapmak mümkündür. Birden çok tüneli ayný anda eklemenin kolay bir yoludur. Fakat tünelleri numaralandýrmak mümkün deðildir (bu istenilen bir durum deðildir).
  <p></p><p>
Kullaným (üç tünel için genel örnek):</p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/ifconfig sit0 up</tt></b>
<b><tt>/sbin/route -A inet6 add </tt></b><i>1inci_rotanýn_öneki </i><b><tt>gw ::</tt></b><i>1inci_yabancý_tünelin_ipv4adresi </i><b><tt>dev sit0</tt></b>
<b><tt>/sbin/route -A inet6 add </tt></b><i>2nci_rotanýn_öneki </i><b><tt>gw ::</tt></b><i>2nci_yabancý_tünelin_ipv4adresi </i><b><tt>dev sit0</tt></b>
<b><tt>/sbin/route -A inet6 add </tt></b><i>3üncü_rotanýn_öneki </i><b><tt>gw ::</tt></b><i>3üncü_yabancý_tünelin_ipv4adresi </i><b><tt>dev sit0</tt></b>
</pre> </td></tr></table></div>
  </p><p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="../images/xsl/warning.png"></td><th>Önemli Uyarý</th></tr><tr><td colspan="2" align="left" valign="top"><p>
BU YÖNTEMÝ KULLANMAYIN, çünkü böyle bir yapýlandýrma internetin her yerinden ulaþýlabilen bir "otomatik tünelleme" saðlamaktadýr. Bu göze alýnamaz bir risktir.
  </p></td></tr></table></div></p><p></p></dd></dl></div></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="id23"></a>Noktadan-noktaya tüneli iptal etmek</h4></div></dt><dd><p>
Genellikle elle yapýlmasý gerekmez, IPv6 yapýlandýrmasýnýn düzgünce kapatýlmasý veya yeniden baþlatýlmasý için betikler tarafýndan kullanýlýr.
  </p><p><div class="variablelist"><dl><dt><span class="term"><tt>ip</tt> kullanarak</span></dt><dd>
Bir tünel aygýtýnýn kaldýrýlmasý aþaðýdaki gibi yapýlýr:
  <p></p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/ip tunnel del </tt></b><i>aygýt</i>
</pre> </td></tr></table></div>
  </p><p>Kullaným (üç tünel için genel örnek):</p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/ip -6 route del </tt></b><i>1inci_rotanýn_öneki </i><b><tt>dev sit1
/sbin/ip link set sit1 down
/sbin/ip tunnel del sit1
/sbin/ip -6 route del </tt></b><i>2nci_rotanýn_öneki </i><b><tt>dev sit2
/sbin/ip link set sit2 down
/sbin/ip tunnel del sit2
/sbin/ip -6 route del </tt></b><i>3üncü_rotanýn_öneki </i><b><tt>dev sit3
/sbin/ip link set sit3 down
/sbin/ip tunnel del sit3</tt></b>
</pre> </td></tr></table></div>
  </p><p></p></dd><dt><span class="term"><tt>ifconfig</tt> ve <tt>route</tt> kullanarak (önerilmez)</span></dt><dd>
Durdurulmasý da oluþturulmasý kadar gariptir. Tüneller geriye doðru bir sýra ile kaldýrýlmalýdýr, yani en son yaratýlan ilk sýrada kaldýrýlmalýdýr.
  <p></p><p>Kullaným (üç tünel için genel örnek):</p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/route -A inet6 del </tt></b><i>3üncü_rotanýn_öneki </i><b><tt>dev sit3
/sbin/ifconfig sit3 down
/sbin/route -A inet6 del </tt></b><i>2nci_rotanýn_öneki </i><b><tt>dev sit2
/sbin/ifconfig sit2 down
/sbin/route -A inet6 add </tt></b><i>1inci_rotanýn_öneki </i><b><tt>dev sit1
/sbin/ifconfig sit1 down
/sbin/ifconfig sit0 down</tt></b>
</pre> </td></tr></table></div>
  </p><p></p></dd><dt><span class="term">Sadece <tt>route</tt> kullanarak</span></dt><dd>
Normal IPv6 yönlendirmelerini kaldýrmak gibidir.
  <p></p><p>Kullaným (üç tünel için genel örnek):</p><p>
<div class="synopsis" align="center"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="synopsis"><b><tt>/sbin/route -A inet6 del </tt></b><i>1inci_rotanýn_öneki </i><b><tt>gw ::</tt></b><i>1inci_yabancý_tünelin_ipv4adresi </i><b><tt>dev sit0
/sbin/route -A inet6 del </tt></b><i>2nci_rotanýn_öneki </i><b><tt>gw ::</tt></b><i>2nci_yabancý_tünelin_ipv4adresi </i><b><tt>dev sit0
/sbin/route -A inet6 del </tt></b><i>3üncü_rotanýn_öneki </i><b><tt>gw ::</tt></b><i>3üncü_yabancý_tünelin_ipv4adresi </i><b><tt>dev sit0
/sbin/ifconfig sit0 down</tt></b>
</pre> </td></tr></table></div>
  </p><p></p></dd></dl></div></p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="id33"></a>Noktadan-noktaya numaralandýrýlmýþ tüneller</h4></div></dt><dd><p>
Bazen IPv6 adresleriyle IPv4 gibi noktadan-noktaya tünel yapýlandýrmak gerekebilir. Bu sadece ikinci (ifconfig+route) ve üçüncü (ip+route) tür yapýlandýrmalar ile mümkündür. Bu durumlarda tünel arabirimine IPv6 adresini arabirim yapýlandýrmasýnda gösterildiði gibi ekleyebilirsiniz.
  </p></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/ipv6-howto-configuring-6in4-tunnels-monitoring.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/ipv6-howto-configuring-6in4-tunnels.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/ipv6-howto-configuring-6in4-tunnels-setting.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Varolan tünellerin görüntülenmesi </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> 6'ya 4 tünellerin ayarlarý</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
