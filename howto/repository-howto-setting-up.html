<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-10-20T14:38:43+03:00"><title>Depo Nasýl Kurulur</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/repository-howto.html" title="Debian Deposu NASIL"><link rel="previous" href="../howto/repository-howto-how-it-works.html" title="Depolar Nasýl Çalýþýr"><link rel="next" href="../howto/repository-howto-setting-up-using-a-repository.html" title="Depoyu Kullanmak"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Depo Nasýl Kurulur</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/repository-howto-how-it-works.html">Önceki</a> </td><th width="60%" align="center">Debian Deposu NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/repository-howto-setting-up-using-a-repository.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="repository-howto-setting-up"></a>Depo Nasýl Kurulur</h2></div></dt><dd><p>Depolar daha basit ve karmaþýk olanlar olarak ikiye ayrýlýrlar. Karmaþýk olanlarda kullanýcý sadece deponun adresini, kullandýðý debian sürümü ve istediði bileþenleri belirtmesi (<tt>apt</tt> eðer varsa, uygun mimari için paketi otomatik olarak getirecektir) yeterli olur. Daha basit olanlarda ise (<tt>apt</tt> hangi paketin uygun olacaðýný bilemeyeceði için) kullanýcýnýn tam yolu belirtmesi zorunludur. Karmaþýk olanlarýn kurulumu biraz fazla adýmdan oluþsa da kullanýmlarý daha kolaydýr ve karmaþýk ve/veya birden fazla platformda çalýþýlacaksa mutlaka bu tip depolar kullanýlmalýdýr. Basit olanlar kolay kurulurlar ama sadece küçük veya tek mimarili depolarda kullanýlmalýdýr.</p><p>Tam olarak doðru olmasa da bu depolarý <i>Otomatik Depolar</i> ve <i>Sýradan Depolar</i> olarak isimlendireceðim.</p><dl><div class="sect2"><dt><div> <h3 class="title"><a name="repository-howto-setting-up-auto"></a>Otomatik Depolar</h3></div></dt><dd><p>Standart Debian mimarilerini ve bileþenlerini içeren bir otomatik deponun dizin yapýsý aþaðýdaki gibidir:</p><div class="example"><p><a name="debian-repository-example1"></a><b>Örnek 11.15. Standart Debian Deposu</b></p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">(deponuzun kök dizini) 
| 
+-dists
  | 
  |-stable
  | |-main
  | | |-binary-alpha 
  | | |-binary-arm
  | | |-binary-...
  | | +-source 
  | |-contrib
  | | |-binary-alpha 
  | | |-binary-arm
  | | |-binary-...
  | | +-source 
  | +-non-free
  |   |-binary-alpha
  |   |-binary-arm
  |   |-binary-...
  |   +-source
  |
  |-testing 
  | |-main
  | | |-binary-alpha 
  | | |-binary-arm
  | | |-binary-...
  | | +-source 
  | |-contrib
  | | |-binary-alpha 
  | | |-binary-arm
  | | |-binary-...
  | | +-source 
  | +-non-free
  |   |-binary-alpha
  |   |-binary-arm
  |   |-binary-...
  |   +-source
  |
  +-unstable 
    |-main
    | |-binary-alpha 
    | |-binary-arm
    | |-binary-...
    | +-source 
    |-contrib
    | |-binary-alpha 
    | |-binary-arm
    | |-binary-...
    | +-source 
    +-non-free
      |-binary-alpha
      |-binary-arm
      |-binary-...
      +-source</pre> </td></tr></table></div></div><p>Özgür (free) paketler <tt>main</tt>; özgür olmayanlar (non-free) <tt>non-free</tt> ve özgür olmayan paketlere baðlý olan özgür paketler de <tt>contrib</tt> dizinlerinde bulunurlar. Debian'ýn 11 farklý mimariyi desteklemesine raðmen sadelik olmasý için bu mimarilerin çoðu yukarýdaki örnekte atlanmýþtýr.</p><p>Her <tt>binary-*</tt> dizini bir <tt>Packages.gz</tt> dosyasý ve isteðe baðlý olarak   <tt>Release</tt> dosyasýný; her <tt>source</tt> dizini bir <tt>Sources.gz</tt> dosyasý ve isteðe baðlý olarak <tt>Release</tt> dosyasýný içerir. <i>packages</i> dosyasýnýn index dosyalarýyla ayný dizinde olmasý gerekmediðine dikkat edin, çünkü index dosyalarý bütün paketlerin yollarýný içerir. Aslýnda <i>herhangi-bir-dizin</i>de bulunabilirler. Bu sayede <a href="../howto/repository-howto-setting-up.html#repository-howto-setting-up-pools" title="Havuz Yaratýlmasý">havuz</a> oluþturulmasý mümkün olmaktadýr.</p><p>Ýstediðiniz kadar daðýtým sürümü ve bileþen yaratabilir ve onlarý istediðiniz gibi isimlendirebilirsiniz. Benim örnekte kullandýklarým Debian tarafýndan kullanýlan isimlerdir. Ýsterseniz sürüm isimleri olarak (<tt>stable</tt>, <tt>testing</tt> ve <tt>unstable</tt> yerine) <tt>current</tt> ve <tt>beta</tt> kullanabilirsiniz. Veya bileþenleri (	      <tt>main</tt>, <tt>contrib</tt> ve <tt>non-free</tt> yerine) <tt>foo</tt>, <tt>bar</tt>, <tt>baz</tt> ve <tt>qux</tt> olarak isimlendirebilirsiniz.</p><p>Bileþenleri isimlendirmede özgür olsanýz da sürüm isimleri olarak Debian kullanýcýlarýnýn görmeyi bekledikleri standart Debian sürümlerinin adlarýný kullanmanýz iyi bir fikir olacaktýr.</p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="repository-howto-setting-up-trivial"></a>Sýradan Depolar</h3></div></dt><dd><p>Sýradan depolar bir kök dizini ve istediðiniz kadar alt dizinden oluþurlar. Kullanýcýlarýn deponun kök dizininin yolunu ve index dosyalarýný içeren dizinle kök dizini arasýndaki yolu belirtmeleri gerektiðinden istediðiniz her þeyi yapabilirsiniz (isterseniz her þeyi deponun kök dizinine bile koyabilirsiniz, bu durumda göreli yol kýsaca &#8592;<tt>/</tt>&#8594; olacaktýr).</p><div class="example"><p><a name="debian-repository-trivial-example"></a><b>Örnek 11.16. Ýki alt dizini olan Sýradan bir Depo</b></p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">(deponuzun kök dizini)
|
|-binary
+-source</pre> </td></tr></table></div></div></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="repository-howto-setting-up-index-files"></a>Index Dosyalarýný Oluþturmak</h3></div></dt><dd><p><tt>Packages</tt> dosyasý <b><tt>dpkg-scanpackages</tt></b> komutu ile, <tt>Sources</tt> dosyasý ise <b><tt>dpkg-scansources</tt></b> komuyu ile oluþturulur.</p><p>Her iki komutta çýktýlarýný standart çýktýya verdiklerinden sýkýþtýrýlmýþ dosyalar oluþturabilmek için þöyle kullanabilirsiniz: <b><tt>dpkg-scanpackages <i><tt>arguments</tt></i> | gzip -9c &gt;
        Packages.gz</tt></b>.</p><p>Ýki araç da ayný þekilde çalýþýr; ikisi de ikiþer deðiþken alýr (aslýnda ikiden fazla da alabilirler ama bunun üzerine gitmeyeceðim, isterseniz man dosyalarýna bakabilirsiniz). Ýlk deðiþken paketlerin bulunduðu dizin, ikincisi ise <i>geçersiz kýlan dosyalar (override file)</i>. Sýradan depolar için geçersiz kýlan dosyalara ihtiyacýmýz olmamasýna raðmen bir parametre olarak gerektiðinden deðerini <tt>/dev/null</tt> olarak alacaðýz.</p><p><b><tt>dpkg-scanpackages</tt></b> komutu <tt>.deb</tt> paketlerini; <b><tt>dpkg-scansources</tt></b> komutu ise <tt>.dsc</tt> dosyalarýný tarar. Bu nedenle  <tt>.orig.gz</tt>, <tt>.diff.gz</tt> ve <tt>.dsc</tt> dosyalarýný birarada bulundurmak gereklidir. <tt>.changes</tt> dosyalarýna ihtiyaç yoktur.</p><p>Eðer <a href="../howto/repository-howto-setting-up.html#debian-repository-trivial-example" title="Örnek 11.16. Ýki alt dizini olan Sýradan bir Depo">Örnek 11.16</a>'deki gibi sýradan bir deponuz varsa iki index dosyasýný da aþaðýdaki gibi oluþturabilirsiniz:</p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">$ cd my-repository
$ dpkg-scanpackages binary /dev/null | gzip -9c &gt; binary/Packages.gz
$ dpkg-scansources source /dev/null | gzip -9c &gt; source/Sources.gz</pre> </td></tr></table></div><p><a href="../howto/repository-howto-setting-up.html#debian-repository-example1" title="Örnek 11.15. Standart Debian Deposu">Örnek 11.15</a>'deki gibi karmaþýk bir deponuz varsa bu süreçleri otomatik hale getirmek için bazý betikler yazmanýz gerekir.</p><p>Sözdizimini biraz daha basitleþtirmek için <i><tt>pathprefix</tt></i> deðiþkenini kullanabilirsiniz. Bunun kullanýmýný okuyucuya pratik yapmasý için býrakýyorum (man sayfasýnda nasýl kullanýlacaðý belgelendirilmiþtir).</p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="repository-howto-setting-up-release"></a>Release Dosyalarýný Oluþturmak</h3></div></dt><dd><p>Deponuzun kullanýcýlarýnýn <i>iðneleme</i> yapabilmelerine izin vermek isterseniz index dosyasý içeren her dizine bir de <tt>Release</tt> dosyasý koymanýz gerekir. (Ýðneleme hakkýnda ayrýntýlý bilgiyi <a href="http://docs.comu.edu.tr/howto/apt-howto.html" target="_top">APT NASIL</a> belgesinde bulabilirsiniz).</p><p><tt>Release</tt> dosyalarý aþaðýdakine benzer basit ve kýsa metin dosyalarýdýr:</p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">Archive: <i><tt>archive</tt></i>
Component: <i><tt>component</tt></i>
Origin: <i><tt>YourCompany</tt></i>
Label: <i><tt>YourCompany Debian repository</tt></i>
Architecture: <i><tt>architecture</tt></i></pre> </td></tr></table></div><div class="variablelist"><dl><dt><span class="term"><tt>Archive</tt></span></dt><dd>Paketlerin ait olduðu (veya hazýrlanmýþ olduklarý) Debian sürümü; <tt>stable</tt>,    <tt>testing</tt> veya <tt>unstable</tt> gibi.<p></p><p></p></dd><dt><span class="term"><tt>Component</tt></span></dt><dd>Dizindeki paketlerin ait olduðu bileþen; <tt>main</tt>, <tt>non-free</tt> veya <tt>contrib</tt> gibi.<p></p><p></p></dd><dt><span class="term"><tt>Origin</tt></span></dt><dd>Paketleri hazýrlayanýn ismi.<p></p><p></p></dd><dt><span class="term"><tt>Label</tt></span></dt><dd>Deponuz veya paketleriniz için uygun bir etiket. Hayal gücünüzü kullanýn.<p></p><p></p></dd><dt><span class="term"><tt>Architecture</tt></span></dt><dd>Dizinde bulunan paketlerin hazýrlandýklarý mimari; <tt>i386</tt>, <tt>sparc</tt> veya <tt>source</tt> gibi.<p></p><p></p></dd></dl></div><p>Ýðneleme için kullanýldýklarýndan <tt>Archive</tt> ve <tt>Architecture</tt> deðerlerinin doðru olmasý çok önemlidir. Diðerleri daha az öneme sahiptirler.</p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="repository-howto-setting-up-pools"></a>Havuz Yaratýlmasý</h3></div></dt><dd><p>Otomatik depolarý kullanarak paketlerin farklý dizinlerde daðýtýlmasý hýzlýca yönetilmesi zor bir hal alýr. Bütün mimariler için geçerli (belgelendirme paketleri gibi) çokça paket olmasý durumunda disk alanýnýn ve bant geniþliðinin de boþa harcanmasýna neden olur.</p><p>Bu durumlar için olasý çözümlerden biri <i>havuz</i> kullanmaktýr. Bir havuz deponuzun kök dizininin altýnda bulunan ve <i>tüm</i> paketleri (tüm mimariler, sürümler ve bileþenler için ikilik paketleri ve tüm kaynak paketleri) içeren bir dizindir. Geçersiz kýlan dosyalarýn akýllýca kombinasyonlarý ve betiklerin yardýmýyla bir çok problemin önüne geçilebilir. Havuzlanmýþ depolarýn güzel bir örneði Debian deposunun kendisidir.</p><p>Havuzlar sadece büyük depolar için faydalýdýr; ben bugüne kadar hiçhavuz oluþturmadýðým gibi yakýn gelecekte de bir havuza ihtiyacým olacaðýný düþünmediðimden burada nasýl yapýlacaðýný anlatmýyorum. Eðer böyle bir bölümün olmasý gerekitiðine inanýyorsanýz yazýp bana göndermekten çekinmeyin.</p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="repository-howto-setting-up-tools"></a>Araçlar</h3></div></dt><dd><p>Debian arþivlerini yaratmayý otomatik hale getiren ve kolaylaþtýran bir çok araç vardýr. Aþaðýda bunlarýn en kayda deðer olanlarýný listeledim.</p><p><b><tt>apt-ftparchive</tt></b> komutu Debian paket dosyalarýnýn bir koleksiyonunu resmi Debian arþivindeki hiyerarþiye uygun hale getirmek için kullanýlýr. <tt>apt-utils</tt> paketinin bir parçasýdýr.</p><p><b><tt>apt-move</tt></b> komutu Debian paket dosyalarýnýn bir koleksiyonunu resmi Debian arþivindeki hiyerarþiye uygun hale getirmek için kullanýlýr.</p></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/repository-howto-how-it-works.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/repository-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/repository-howto-setting-up-using-a-repository.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Depolar Nasýl Çalýþýr </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Depoyu Kullanmak</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
