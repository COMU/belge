<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:56:03+03:00"><title>Hata Ýþleme: ensure deyimi</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/ruby-ug.html" title="Ruby Kullanýcý Kýlavuzu"><link rel="previous" href="../howto/ruby-ug-rescue.html" title="Hata Ýþleme: rescue deyimi"><link rel="next" href="../howto/ruby-ug-accessors.html" title="Eriþgeçler"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Hata Ýþleme: ensure deyimi</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/ruby-ug-rescue.html">Önceki</a> </td><th width="60%" align="center">Ruby Kullanýcý Kýlavuzu</th><td width="20%" align="right"> <a accesskey="n" href="../howto/ruby-ug-accessors.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="ruby-ug-ensure"></a>Hata Ýþleme: <tt>ensure</tt> deyimi</h2></div></dt><dd><p>
Bazen bir yöntem iþini bitirdikten sonra temizlik yapýlmasý gerekebilir. Örneðin açýlmýþ olan bir dosyanýn kapatýlmasý ya da bir veri için ayrýlan bellek gözesinin boþaltýlmasý gerekebilir. Eðer her yöntem için her zaman tek bir çýkýþ noktasý olsaydý temizleme kodumuzu tek bir yere koyardýk ve çalýþtýrýlacaðýndan emin olurduk. Ancak yöntem bir çok yere geri dönebilir ve temizlik kodumuz beklenmeyen istisnalardan dolayý atlanabilir.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
begin
  file = open("/tmp/bir_dosya", "w")
  # ... dosyaya yaziliyor...
  file.close
end
</pre> </td></tr></table></div>
  </p><p>
Ayrýca eðer kodun dosyaya yazdýðýmýz kýsmýnda bir istisna meydana gelirse o zaman dosya açýk býrakýlabilir. Ve böyle bir fazlalýða gitmek istemeyiz:
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
begin
  file = open("/tmp/bir_dosya", "w")
  # ... dosyaya yazýlýyor ...
  file.close
rescue
  file.close
  fail # istisna yakalanýyor
end
</pre> </td></tr></table></div>
  </p><p>
Bu hantal bir yöntemdir; her <b><tt>return</tt></b> ve <b><tt>break</tt></b> ile ilgilenmek zorunda kalýnca iþler çýðrýndan çýkar.
  </p><p>
Bu yüzden "<b><tt>begin...rescue...end</tt></b>" þemasýna <b><tt>ensure</tt></b> adýnda baþka bir anahtar kelime daha ekleriz. <b><tt>ensure</tt></b> kodu <b><tt>begin</tt></b> kodunun baþarýlý olup olmadýðýna bakmaksýzýn çalýþtýrýlýr.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
begin
  file = open("/tmp/bir_dosya", "w")
  # ... dosyaya yazýlýyor ...
rescue
  # ... istisnalar yakalanýyor...
ensure
  file.close   # ...her zaman yapýlmasý gerekir
end
</pre> </td></tr></table></div>
  </p><p>
<b><tt>ensure</tt></b> kodunu <b><tt>rescue</tt></b> olmadan da kullanmak mümkündür ya da tam tersi; ancak ayný <b><tt>begin...end </tt></b> bloðunda birlikte kullanýlýyorlarsa <b><tt>rescue</tt></b>, <b><tt>ensure</tt></b>'den önce gelmelidir.
  </p></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/ruby-ug-rescue.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/ruby-ug.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/ruby-ug-accessors.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Hata Ýþleme: rescue deyimi </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Eriþgeçler</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
