<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-11-03T09:25:39+02:00"><title>Yeni üstdüzey daðýtým (gerçekçi)</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/maint-guide-tr-s9.html" title="Paketin Güncellenmesi"><link rel="previous" href="../howto/maint-guide-tr-s9.2.html" title="Yeni üstdüzey daðýtým (kolay yol)"><link rel="next" href="../howto/maint-guide-tr-s9.4.html" title="orig.tar.gz dosyasý"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Yeni üstdüzey daðýtým (gerçekçi)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/maint-guide-tr-s9.2.html">Önceki</a> </td><th width="60%" align="center">Paketin Güncellenmesi</th><td width="20%" align="right"> <a accesskey="n" href="../howto/maint-guide-tr-s9.4.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect2"><dt><div> <h3 class="title"><a name="maint-guide-tr-s9.3"></a>Yeni üstdüzey daðýtým (gerçekçi)</h3></div></dt><dd><p>
Paketleri Debian arþivi için hazýrlarken, oluþan paketleri ayrýntýlý bir þekilde kontrol etmelisiniz. Burada bunun daha gerçekçi bir örneði var:
      </p><p><div class="orderedlist"><ol type="1"><li><div class="listitem">Yeni üstdüzey kaynaktaki deðiþiklikleri doðrulayýn:
        <p></p><p><div class="itemizedlist"><ul type="disc"><li>
Yeni üstdüzey sürümün <tt>changelog</tt>, <tt>NEWS</tt> ve yeni sürümle birlikte daðýtýlmýþ her ne baþka belgelesi varsa okuyunuz.
          <p></p><p></p></li><li>
<tt>diff -urN</tt>'yi kullanarak eski ve yeni sürüm arasýndaki deðiþikliklerin esas olarak nerelerde yapýlmýþ olduðunu  anlamaya çalýþýn ve ayrýca, þüpheli gördüðünüz herþeye bir göz atýn.
          <p></p><p></p></li></ul></div>
        </p><p></p></div></li><li><div class="listitem">
Eski Debian paketini yenisine uyarlayýn:
        <p></p><p><div class="itemizedlist"><ul type="disc"><li>
Kaynak tar paketini açýn ve kaynak aðacýnýn kökünü <tt>&lt;paketismi&gt;-&lt;üstdüzey_sürümü&gt;/</tt> olarak yeniden isimlendirin, <b><tt>cd</tt></b> ile dizinin içine girin.
          <p></p><p></p></li><li>
Sýkýþtýrýlmýþ tar dosyasýný üst dizine kopyalayýn ve ismini <tt>&lt;paketismi&gt;_&lt;üstdüzey_sürümü&gt;.orig.tar.gz</tt> olarak deðiþtirin.
          <p></p><p></p></li><li>
Eski kaynak aðacýna yaptýðýnýz benzer deðiþiklikleri yeni kaynak aðacýna da yapýn. Olasý yöntemler þunlar olabilir:
          <p></p><p><div class="itemizedlist"><ul type="disc"><li style="list-style-type: disc"><b><tt>zcat </tt></b><i><tt>/dosya/yolu/&lt;paketismi&gt;_&lt;eski_sürüm&gt;</tt></i><b><tt>.diff.gz | patch -p1</tt></b> komutu,
            </li><li style="list-style-type: disc"><b><tt>uupdate</tt></b> komutu,
            </li><li style="list-style-type: disc">
Eðer kaynak kod yönetimi için bir Subversion deposunu kullanýyorsanýz, <b><tt>svn merge</tt></b> komutu kullanýn veya
            </li><li style="list-style-type: disc">
eðer <b><tt>dpatch</tt></b> veya <b><tt>quilt</tt></b> ile paketlendiyse basitçe eski kaynak kodundaki <tt>debian/</tt> dizinini kopyalayýn
            </li></ul></div>
          </p><p></p></li><li>
Eski <tt>changelog</tt> kayýtlarýný koruyun (sesler geliyor... ama bazen kazalar olabiliyor...)
          <p></p><p></p></li><li>
Yeni paket sürümü, üstdüzey sürüm numarasýna <tt>-1</tt> Debian yayým numarasý eklenmesiyle elde edilen yeni sürüm numarasý olacaktýr, örn., <tt>0.9.13-1</tt>.
          <p></p><p></p></li><li>
<tt>debian/changelog</tt> dosyasýnýn baþýna bu yeni sürümü "New Upstream Release" (Yeni üstdüzey daðýtým) þeklinde bir girdi olarak ekleyin. Örneðin, <b><tt>dch -v 0.9.13-1</tt></b>.
          <p></p><p></p></li><li>
Özlü bir þekilde, yeni sürümde bildirilmiþ hatalarý gidermek üzere yaptýðýnýz deðiþiklikleri açýklayýn ve <tt>changelog</tt> dosyasýnda bu hatalarý kapatýn.
          <p></p><p></p></li><li>
Özlü bir þekilde, yeni sürümde bildirilmiþ hatalarý gidermek üzere üstdüzey geliþtiricinin yaptýðý deðiþiklikleri açýklayýn ve <tt>changelog</tt> dosyasýnda bu hatalarý kapatýn.
          <p></p><p></p></li><li>
Eðer yama/birleþtir (patch/merge) temiz bir þekilde uygulanmazsa, neyin hatalý gitmiþ olabileceðini araþtýrýn (ipuçlarý <tt>.rej</tt> dosyalarýndadýr). Genellikle sorun, yaptýðýnýz yamanýn üstdüzey kodlara zaten uygulanmýþ olmasý nedeniye yamanýn ilgisiz kalmasýdýr.
          <p></p><p></p></li><li>
Yeni sürüme geçiþ sessiz ve rahatsýz etmeden olmalýdýr (var olan kullanýcýlar yeni sürüme geçiþi, eski hatalarýn düzeltildiðini ve yeni özelliklerinin eklendiðini farketmeleri dýþýnda farketmemelidir).<sup>[<a name="id3" href="#ftn.id3">49</a>]</sup>
          <p></p><p></p></li><li>
Eðer silinmiþ þablon dosyalarý herhangi bir nedenle eklemek ihtiyacý duyarsanýz, <b><tt>dh_make</tt></b> komutunu <tt>-o</tt> seçeneði ile zaten debianlaþmýþ dizinde çalýþtýrýp daha sonra da bunlarý düzenleyiniz.
          <p></p><p></p></li><li>
Mevcut Debian deðiþiklikleri yeniden deðerlendirilmelidir; aksini zorlayan nedenler olmadýkça üstdüzey sürümün (öyla ya da böyle) zaten saðladýðý elemanlarý atýn, yoksa onlarý saklamayý unutmayýn.
          <p></p><p></p></li><li>
Eðer derleme sistemine özgü herhangi bir deðiþiklik yapýldýysa (bunu 1. adýmdan bileceksiniz), <tt>debian/rules</tt> ve <tt>debian/control</tt> dosyalarýný derleme baðýmlýlýklarý açýsýndan gerekliyse güncelleyin.
          <p></p><p></p></li></ul></div>
        </p><p></p></div></li><li><div class="listitem">
Yeni paketi <a href="../howto/maint-guide-tr-s6.3.html" title="debuild komutu"> debuild komutu</a> veya <a href="../howto/maint-guide-tr-s7.6.html" title="pbuilder paketi"> pbuilder paketi</a> bölümünde açýklandýðý gibi derleyiniz. Bunun için <b><tt>pbuilder</tt></b> kullanýmý da tercih edilebilir.
        <p></p><p></p></div></li><li><div class="listitem">
Yeni paketlerin olmasý gerektiði gibi derlendiðini doðrulayýn:
        <p></p><p><div class="itemizedlist"><ul type="disc"><li><a href="../howto/maint-guide-tr-s7.html" title="Paketin hatalara karþý denetimi"> Paketin hatalara karþý denetimi</a> bölümündekileri uygulayýn.
          </li><li><a href="../howto/maint-guide-tr-s9.6.html" title="Paket yükseltiminin doðrulanmasý"> Paket yükseltiminin doðrulanmasý</a> bölümündekileri uygulayýn.
          </li><li><a href="http://www.debian.org/Bugs/" target="_top">Debian Hata Ýzleme Sistemi</a>nde hala açýk olan fakat giderilmiþ hatalar var mý diye tekrar kontrol edin.
          </li><li>
Paketin doðru daðýtýma gönderildiðinden, uygun hata kapatmalarýnýn <tt>Closes:</tt> alanýnda listelendiðinden, <tt>Maintainer:</tt> ve <tt>Changed-By:</tt> alanlarýnýn eþleþtiðinden ve dosyanýn GPG imzalý olduðundan, v.s. emin olmak için <tt>.changes</tt> dosyasýnýn içeriðini kontrol edin.
          </li></ul></div>
        </p><p></p></div></li><li><div class="listitem">
Paketleme sýrasýnda birþeyi düzeltmek için bir deðiþiklik yaparsanýz, 2. adýma dönerek herþey aklýnýza yatana kadar iþlemleri tekrarlayýn.
        <p></p><p></p></div></li><li><div class="listitem">
Eðer paketinizin sponsorlarca desteklenmesi gerekiyorsa, derleme aþamasýnda özel seçenekler kullanýlmasý gerekliyse (<b><tt>dpkg-buildpackage -sa -v ...</tt></b> gibi) bunlarý not alýn ve sponsorlarýnýzýn paketi düzgün þekilde oluþturmalarý için onlarý bilgilendirin.
        <p></p><p></p></div></li><li><div class="listitem">
Paketi arþive kendiniz gönderecekseniz, <a href="../howto/maint-guide-tr-s8.html" title="Paketin Debian'a gönderilmesi"> Paketin Debian'a gönderilmesi</a> bölümünde açýklananlarý uygulayýn.
        <p></p><p></p></div></li></ol></div></p><div class="footnotes"><br><hr width="100" align="left"><table width="100%" summary="Footnotes" cellspacing="3" cellpading="1" class="footnote"><tr><td bgcolor="white" class="footoutline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td bgcolor="white" class="footinline"><p><sup>[<a name="ftn.id3" href="#id3">49</a>] </sup>
Ýyi tasarlanmýþ <tt>postinst</tt> kullanarak paketinizin, güncellemeleri yapýlandýrma dosyalarýnda doðru olarak yenileþtirmesini saðlayýn, kullanýcýnýn istemeyeceði deðiþiklikleri <b>yapmayýn</b>! Bunlar insanlarýn <b>neden</b> Debian'ý seçtiklerini daha iyi açýklamaktadýr.
Eðer güncelleme zorunlu deðiþiklikler gerektirirse (örneðin, yapýlandýrma dosyalarýnýn tamamen farklý bir yapýda çeþitli ev dizinlerine daðýtýlmasý), paketi varsayýlan güvelinir duruma ayarlayabilirsiniz (örneðin, devredýþý kalmýþ hizmet) ve son çare olarak politika (<tt>README.Debian</tt> and <tt>NEWS.Debian</tt> )  gereði gerekli dökümanlarý hazýrlayabilirsiniz. Fakat debconf notunu deðiþtirmeyin.
</p></td></tr></table></td></tr></table></div></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/maint-guide-tr-s9.2.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/maint-guide-tr-s9.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/maint-guide-tr-s9.4.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Yeni üstdüzey daðýtým (kolay yol) </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> orig.tar.gz dosyasý</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
