<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-09-27T01:00:34+03:00"><title>Oturum Açýlýrken Otomatik Baðlama</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/encrypted-swap-howto.html" title="Þifrelenmiþ Takas Alaný ve Ev Dizini NASIL"><link rel="previous" href="../howto/encrypted-swap-howto-part2.html" title="Þifrelenmiþ Ev Dizini Oluþturulmasý ve Kullanýmý"><link rel="next" href="../howto/encrypted-swap-howto-links.html" title="Kaynaklar"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Oturum Açýlýrken Otomatik Baðlama</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/encrypted-swap-howto-part2.html">Önceki</a> </td><th width="60%" align="center">Þifrelenmiþ Takas Alaný ve Ev Dizini NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/encrypted-swap-howto-links.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="encrypted-swap-howto-part3"></a>Oturum Açýlýrken Otomatik Baðlama</h2></div></dt><dd><p>Daha iyi bir çözüm ev dizininizin siz oturum açtýðýnýzda otomatik olarak baðlanmasý olacaktýr. Bunun için oturum açma parolanýz ile þifreleme parolanýzýn <i>ayný olmasý</i> gereklidir. (Aslýnda bu tamamen doðru deðildir. Parolanýzý baþka bir yerde kaydedilmiþ olarak bulundurabilirsiniz, ama bu belgede her ikisi için de ayný parolayý kullandýðýnýzý kabul edeceðiz.)</p><dl><div class="sect2"><dt><div> <h3 class="title"><a name="encrypted-swap-howto-part3-step1"></a>Ev dizininin /etc/fstab dosyasýndan çýkartýlmasý</h3></div></dt><dd><p>Eðer þifrelenmiþ ev dizininizin bulunduðu disk bölümü için <tt>/etc/fstab</tt> dosyasýnda bir satýr varsa silin. <div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># cat /etc/fstab
...
/dev/mapper/cryptohome	/mnt/cryptohome ext3 relatime,errors=remount-ro 0 2 # this gotta go</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="encrypted-swap-howto-part3-step2"></a>/etc/crypttab dosyasýnýn güncellenmesi</h3></div></dt><dd><p><tt>/etc/crypttab</tt> dosyasýnda aþaðýdaki gibi bir satýr olmalýdýr:<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># cat /etc/crypttab
...
cryptohome /dev/vg_storage/lv_home noauto luks</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="encrypted-swap-howto-part3-step3"></a>pam_mount kurulumu ve yapýlandýrmasý</h3></div></dt><dd><p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># apt-get install libpam-mount</pre> </td></tr></table></div></p><p><tt>/etc/security/pam_mount.conf.xml</tt> dosyasýna aþaðýdaki satýrý ekleyin. Bu dosyada bir çok yorum satýrý bulunmaktadýr, bunlarý okumanýz faydalý olacaktýr.<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># cat /etc/security/pam_mount.conf.xml
...
&lt;volume user="lars" fstype="crypt" path="/dev/vg_storage/lv_home" mountpoint="/home" /&gt;</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="encrypted-swap-howto-part3-step4"></a>PAM Yapýlandýrmasý</h3></div></dt><dd><p>Aþaðýdaki satýrý <tt>/etc/pam.d/common-auth</tt> dosyasýna ekleyin.<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># cat /etc/pam.d/common-auth
...
auth	optional	pam_mount.so use_first_pass</pre> </td></tr></table></div></p><p><tt>/etc/pam.d/common-session</tt> dosyasýný da aþaðýdaki gibi düzenleyin:<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"># cat /etc/pam.d/common-session
...
session	optional	pam_mount.so</pre> </td></tr></table></div></p></dd></div></dl><dl><div class="sect2"><dt><div> <h3 class="title"><a name="encrypted-swap-howto-part3-step5"></a>Test</h3></div></dt><dd><p>Oturumdan çýkýp tekrar oturum açýn. Artýk þifrelenmiþ bir ev diziniz olmalýdýr:<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">$ df -h
...
/dev/mapper/_dev_mapper_vg_storage-lv_home
20G  296M   20G   2% /home</pre> </td></tr></table></div></p><p>Tebrikler! Artýk þifrelenmiþ bir takas alanýnýz ve ev dizininiz var.<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="../images/xsl/note.png"></td><th>Not</th></tr><tr><td colspan="2" align="left" valign="top"><p><i>Düzenli</i> yedek alýn!</p></td></tr></table></div></p></dd></div></dl></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/encrypted-swap-howto-part2.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/encrypted-swap-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/encrypted-swap-howto-links.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Þifrelenmiþ Ev Dizini Oluþturulmasý ve Kullanýmý </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Kaynaklar</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
