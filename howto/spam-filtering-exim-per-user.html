<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:56:22+03:00"><title>Kullanýcý verileri ve ayarlarý</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/spam-filtering-exim-sa.html" title="SpamAssassin'in Eklenmesi"><link rel="previous" href="../howto/spam-filtering-exim-sa-config.html" title="SpamAssassin yapýlandýrmasý"><link rel="next" href="../howto/spam-filtering-exim-sign.html" title="Zarf Gönderici Ýmlerinin Eklenmesi"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Kullanýcý verileri ve ayarlarý</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/spam-filtering-exim-sa-config.html">Önceki</a> </td><th width="60%" align="center">SpamAssassin'in Eklenmesi</th><td width="20%" align="right"> <a accesskey="n" href="../howto/spam-filtering-exim-sign.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect2"><dt><div> <h3 class="title"><a name="spam-filtering-exim-per-user"></a>Kullanýcý verileri ve ayarlarý</h3></div></dt><dd><p>
Kullanýcýlarýnýzýn bazýlarý kiþisel SpamAssassin tercihlerini belirtebilmek isteyebilirler; örneðin, spam eþiði, posta kabul ettikleri diller ve karakter kümeleri, kara ve ak listeli kullanýcýlar, vs. Hatta, SpamAssassin'in yerleþik Bayes derecelendirmesini kullanmanýn bile mümkün olmasýný isteyebilirler (bunun anlamlý olacaðýný düþünmesem de<sup>[<a name="id3" href="#ftn.id3">34</a>]</sup>).
      </p><p>
Bu belgede evvelce <a href="../howto/spam-filtering-usersettings.html" class="xref" title="Kullanýcý Verileri ve Ayarlarý"> Kullanýcý Verileri ve Ayarlarý</a> bölümünde açýklandýðý gibi, bunu yapmanýn bir yolu vardýr.  Gelen her teslimattaki alýcý sayýsýný bir ile sýnýrlandýrmamýz gerekir. Ýlk <b><tt>RCPT TO:</tt></b> komutunu kabul ettikten sonra diðerlerini bir <b><tt>451</tt></b> SMTP yanýtý ile erteleriz. <a href="../howto/spam-filtering-exim-greylisting.html" class="xref" title="Grilisteleme Desteðinin Eklenmesi"> Grilisteleme Desteðinin Eklenmesi</a>nde olduðu gibi, eðer baðlanan posta aktarýmcýsý iþini iyi bilen bir yazýlýmsa, bu yanýtýn nasýl yorumlanacaðýný bilecek ve teslimatý yineleyecektir.
      </p><dl><div class="sect3"><dt><div> <h4 class="title"><a name="spam-filtering-exim-limit-one-user"></a>Exim'e "her teslimatý sadece bir alýcý için kabul et" demek istersek</h4></div></dt><dd><p>
<a href="../howto/spam-filtering-acl_rcpt_to_final.html" class="xref" title="acl_rcpt_to"> acl_rcpt_to</a> ACL'sinde, alýcý adresi doðrulandýktan sonra ve uzak konaklardan yerel kullanýcýlara kimlik kanýtlamasýz gelen baðlantýlar için bir <tt>accept</tt> deyiminin öncesine (yani, grilistelemeyi ve zarf gönderici imlerini sýnamadan önceye) aþaðýdaki deyimi yerleþtireceðiz:
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
  # Kullanýcý verilerini ve ayarlarýný (Spamassasin gibi) destekleyebilmek
  # için gelen her iletinin alýcý sayýsýný bir ile sýnýrlayalým.
  #
  # BÝLGÝ: Çok sayýda kullanýcýnýza gönderilmiþ bir postanýn yerine
  #        ulaþmasý her alýcý için 30 dakika veya daha fazla olmak
  #        üzere katlanarak gecikecektir. Bu, özellikle zamanýn kritik
  #        önemde olduðu durumlarda sorunlara yol açacaktýr.
  #
  defer
    message      = We only accept one recipient at a time - please try later.
    condition    = $recipients_count

</pre> </td></tr></table></div>
        </p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="spam-filtering-exim-sa-as-user"></a>SpamAssassin'e alýcýnýn kullanýcý isminin aktarýlmasý</h4></div></dt><dd><p>
<a href="../howto/spam-filtering-acl_data_final.html" class="xref" title="acl_data"> acl_data</a> ACL'sinde, evvelce bahsettiðimiz <tt>spam</tt> kuralýný deðiþtirerek, alýcý adresindeki yerel kýsýmda belirtilmiþ kullanýcý ismini SpamAssassin'e aktaracaðýz.
      </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
  # $spam_score ve $spam_report'a veri saðlamak için SpamAssassin'i
  # çaðýracaðýz. Tasnife baðlý olarak, $acl_m9 "ham" veya "spam"
  # deðerini alacak.
  #
  # Alýcý adresinin kullanýcý adýný SpamAssassin'e aktaralým.
  # Bunun için adresin '=' veya '@' karakterinden önceki kýsmýný
  # küçük harfe dönüþtüreceðiz. Evvelce bir defadaki alýcý sayýsýný
  # önceden bir ile sýnýrladýðýmýzdan çok sayýda alýcý olmayacak.
  #
  # Ýleti spam olarak tasnif edilmiþse, reddetmiþ gibi yapacaðýz.
  #
  warn
    set acl_m9  = ham
    spam        = ${lc:${extract{1}{=@}{$recipients}{$value}{mail}}}
    set acl_m9  = spam
    control     = fakereject
    logwrite    = :reject: Rejected spam (score $spam_score): $spam_report

</pre> </td></tr></table></div>
        </p><p>
Dikkat ederseniz, Exim'in <tt>${local_part:...}</tt> iþlevini kullanmak yerine &#8220;@&#8221; veya &#8220;=&#8221; karakterinden önceki kýsmý kendimiz ayýrdýk. Bunun sebebi, ileride <a class="link" href="../howto/spam-filtering-exim-sign.html" title="Zarf Gönderici Ýmlerinin Eklenmesi">zarf gönderici imlemesi</a> için &#8220;=&#8221; karakterini kullanacak olmamýzdýr.
        </p></dd></div></dl><dl><div class="sect3"><dt><div> <h4 class="title"><a name="spam-filtering-exim-per-user-sa"></a>SpamAssassin'de kullanýcý verilerinin ve ayarlarýnýn etkinleþtirilmesi</h4></div></dt><dd><p>
SpamAssassin'e tekrar bakalým. Herþeyden önce, yapýlandýrma dosyasýna evvelce yerleþtirdiðimiz <tt>use_bayes 0</tt> atamasýný silebilirsiniz. Bu durumda, her kullanýcý kendi ayarlarýný belirtebilme ayrýcalýðýna kavuþacaktýr.
        </p><p>
Eðer sisteminizdeki posta kutularýnýn isimleri yerel UNIX hesaplarýna göre açýlmýþsa bu mümkün olur. Öntanýmlý olarak SpamAssassin artalan süreci, kendisine aktarýlan kullanýcý ismine önce bir <tt>setuid()</tt> uygular ve kullanýcýnýn verilerini ve ayarlarýný kullanýcýnýn ev dizinine kaydeder.
        </p><p>
Eðer yapýnýz bu iþleme uygun deðilse (örneðin, posta hesaplarýnýz Cyrus SASL veya baþka bir sunucu tarafýndan yönetiliyordur), SpamAssassin'e kullanýcý tercihlerini ve verilerini içeren dosyalarý nerede bulacaðýný belirtmeniz gerekir. Ayrýca, <b><tt>spamd</tt></b>'nin mevcut olmayan bir kullanýcýya <tt>setuid()</tt> yapmasýný önlemek için onun belli bir yerel kullanýcý adýyla çalýþmasýný saðlamanýz gerekir.
        </p><p>
Biz bu seçenekleri <b><tt>spamd</tt></b>'yi baþlatýrken belirteceðiz:
        </p><p>
        <div class="itemizedlist"><ul type="disc"><li>
Debian'da <tt>/etc/default/spamassassin</tt> dosyasýnýn <tt>OPTIONS=</tt> satýrýný düzenleyerek.
            <p></p><p></p></li><li>
Red Hat'ta <tt>/etc/sysconfig/spamassassin</tt> dosyasýnýn <tt>SPAMDOPTIONS=</tt> satýrýný düzenleyerek.
      <p></p><p></p></li><li>
Diðerlerini siz bulun.
          <p></p><p></p></li></ul></div>
        </p><p>
Gereken seçenekler:
        </p><p>
        <div class="itemizedlist"><ul type="disc"><li>
<tt>-u</tt> <tr>kullanýcý</tr> - <b><tt>spamd</tt></b>'nin hangi kullanýcýnýn (örn. <tt>mail</tt>) aidiyetinde çalýþacaðý belirtilir.
      <p></p><p></p></li><li>
<tt>-x</tt> - kullanýcýlarýn ev dizinlerindeki yapýlandýrma dosyalarýna bakýlmaz.
      <p></p><p></p></li><li>
<tt>--virtual-config-dir=/var/lib/spamassassin/%u</tt> - kullanýcý verilerinin ve ayarlarýnýn yeri belirtilir. &#8220;%u&#8221; SpamAssassin tarafýndan kullanýcý ismi ile deðiþtirilerek kullanýlýr. <b><tt>spamd</tt></b> bu dizini oluþturmaya veya bu dizinde deðiþiklik yapmaya yetkili olmalýdýr:
          <p></p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">
# <b><tt>mkdir /var/lib/spamassassin</tt></b>
# <b><tt>chown -R mail:mail /var/lib/spamassassin</tt></b>
</pre> </td></tr></table></div>
          </p><p></p></li></ul></div>
        </p><p>
Bu kadar, bu deðiþiklikleri yaptýktan sonra <b><tt>spamd</tt></b>'yi yeniden baþlatmanýz yetecektir.
        </p></dd></div></dl><div class="footnotes"><br><hr width="100" align="left"><table width="100%" summary="Footnotes" cellspacing="3" cellpading="1" class="footnote"><tr><td bgcolor="white" class="footoutline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td bgcolor="white" class="footinline"><p><sup>[<a name="ftn.id3" href="#id3">34</a>] </sup>
Her ne kadar Bayes eðiticisi iþleyiþ olarak kullanýcýya özel ise de SpamAssassin'in Bayes eðiticisi naçizane fikrime göre herhalükarda o kadar da parlak deðildir. Örnek olarak spam göndericiler sözlükten rasgele seçilmiþ kelimeler ve öykülerle bu tür sistemleri tohumlayarak alt edebilmektedir.</p></td></tr></table></td></tr></table></div></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/spam-filtering-exim-sa-config.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/spam-filtering-exim-sa.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/spam-filtering-exim-sign.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">SpamAssassin yapýlandýrmasý </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Zarf Gönderici Ýmlerinin Eklenmesi</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
