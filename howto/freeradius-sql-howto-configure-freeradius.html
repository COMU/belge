<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2008-04-17T23:20:14+02:00"><title>FreeRadius'un SQL Kullanmasý Ýçin Yapýlandýrýlmasý</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/freeradius-sql-howto.html" title="FreeRADIUS ile SQL NASIL"><link rel="previous" href="../howto/freeradius-sql-howto-setting-sql.html" title="RADIUS Veritabanýnýn Oluþturulmasý"><link rel="next" href="../howto/freeradius-sql-howto-populating-sql.html" title="SQL'in Kullanýma Hazýr Hale Getirilmesi"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">FreeRadius'un SQL Kullanmasý Ýçin Yapýlandýrýlmasý</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/freeradius-sql-howto-setting-sql.html">Önceki</a> </td><th width="60%" align="center">FreeRADIUS ile SQL NASIL</th><td width="20%" align="right"> <a accesskey="n" href="../howto/freeradius-sql-howto-populating-sql.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="freeradius-sql-howto-configure-freeradius"></a>FreeRadius'un SQL Kullanmasý Ýçin Yapýlandýrýlmasý</h2></div></dt><dd><p>Tercihinize göre <tt>/etc/raddb/sql.conf</tt> veya <tt>/etc/raddb/postgresql.conf</tt> dosyalarýndan birini düzenleyerek SQL sunucunuzun adresini, RADIUS veritabanýna baðlanmak için gerekli kullanýcý adý ve parolayý girin. Eðer öntanýmlý þemayý kullandýysanýz veritabaný ve tablo ismlerini olduðu gibi býrakmalýsýnýz. Deneme ve hata ayýklama için isterseniz sqltrace seçeneðini aktif hale getirebilirsiniz. Bu durumda FreeRadius tüm SQL komutlarýný hata ayýklamak için çýktý olarak verecektir.</p><p>Eðer PostgreSQL kullanýyorsanýz <tt>/etc/raddb/radiusd.conf</tt> dosyasýndaki:</p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">$INCLUDE  ${confdir}/sql.conf</pre> </td></tr></table></div><p>satýrýný aþaðýdaki gibi deðiþtirin</p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">$INCLUDE  ${confdir}/postgresql.conf</pre> </td></tr></table></div><p>Ben alt satýrdaki User-Name'i içeren satýrý da silmiþtim. Eðer burada ne olup bittiðini görmek isterseniz <tt>radiusd.conf</tt> dosyasýndaki bütün kayýt seçeneklerini aktif edip radiusd'yi hata ayýklama (-X) modunda çalýþtýrýn. User-Name kullandýðýnýzda veritabanýna "user@domain" þeklinde kaydedilirken, Stripped-User-Name kullandýðýnýzda sadece "user" olarak kaydedilir. Ýkincisini kullandýðýmda alanlarým da çalýþtý (sunucuda bütün kullanýcý isimleri tekil olduðundan alan adlarýný ayýrýp kullandým). Elbette diðer SQL seçeneklerini (veritabaný baðlantý ayrýntýlarý gibi) de uygun þekilde ayarlamanýz gerekir.</p><p><tt>/etc/raddb/radiusd.conf</tt> dosyasýnýn sonlarýnda yer alan authorize{} bölümüne sql için gerekli satýrý eklemelisiniz. Bu eklemenin en iyi yeri 'files' bölümünden hemen sonrasýdýr. Aslýnda eðer sadece SQL kullanacak ve metin dosyalarýna geri dönmeyecekseniz en iyisi 'files' girdisini silmek veya yorum haline getirmektir.</p><p>FreeRADIUS'un hesap kayýtlarýný da veritabanýnda tutmasýný isterseniz accounting{} bölümüne de 'sql' ile ilgili satýrý eklemeniz gerekir.</p><p>Eþzamanlý kullaným (Simultaneous-Use) denetimi yapmak için de session{} bölümüne 'sql' eklenmelidir.</p><p>Tüm kimlik denetimi denemelerini veritabanýna kaydetmek için post-auth{} bölümüne 'sql' eklenmelidir.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="../images/xsl/warning.png"></td><th>Uyarý</th></tr><tr><td colspan="2" align="left" valign="top">Yapýlandýrma dosyasýnda bunlardan baþka hiç bir satýrý yorumlarý okuyup anlamadan silmemeli veya deðiþtirmemelisiniz!</td></tr></table></div><p><tt>radiusd.conf</tt> dosyanýz aþaðýdakine benzer olmalýdýr:</p><div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">authorise {
	preprocess
	chap
	mschap
	suffix
	eap
	# We leave "files" enabled to allow creation of test users in /etc/raddb/users
	files
	sql
	pap
}

accounting {
	# We leave "detail" enabled to _additionally_ log accounting to /var/log/radius/radacct
	detail
	sql
}</pre> </td></tr></table></div></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/freeradius-sql-howto-setting-sql.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/freeradius-sql-howto.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/freeradius-sql-howto-populating-sql.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">RADIUS Veritabanýnýn Oluþturulmasý </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> SQL'in Kullanýma Hazýr Hale Getirilmesi</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
