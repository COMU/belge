<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9"><meta name="date" content="2006-04-25T01:56:00+03:00"><title>Düzenli Ýfadeler</title><link rel="icon" type="image/png" href="../images/belgeler-logo.png"><link rel="stylesheet" href="../belgeler.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V-special(derived from 1.49 for Turkish Linux Documentation WG by Nilgün Belma Bugüner - nilgun@superonline.com)"><link rel="home" href="../KiTAPLIK/index.html" title="Linux Kitaplýðý"><link rel="up" href="../howto/ruby-ug.html" title="Ruby Kullanýcý Kýlavuzu"><link rel="previous" href="../howto/ruby-ug-strings.html" title="Dizgeler"><link rel="next" href="../howto/ruby-ug-arrays.html" title="Diziler"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><th colspan="3" align="center">Düzenli Ýfadeler</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../howto/ruby-ug-strings.html">Önceki</a> </td><th width="60%" align="center">Ruby Kullanýcý Kýlavuzu</th><td width="20%" align="right"> <a accesskey="n" href="../howto/ruby-ug-arrays.html">Sonraki</a></td></tr></table></td></tr></table></td></tr></table><dl><div class="sect1"><dt><div> <h2 class="title" style="clear: both"><a name="ruby-ug-regex"></a>Düzenli Ýfadeler</h2></div></dt><dd><p>
Þimdi daha ilginç bir yazýlým geliþtirelim. Bu sefer bir dizgenin verilen bir <span class="wordasword"><i>þablona</i></span> uyup uymadýðýný araþtýralým:
  </p><p>
Bu þablonlar özel anlamlarý olan bazý karakterler ve karakter birleþimlerinden oluþur:
  </p><p>
<div class="table"><p><b>Tablo 4.1. Düzenli ifade iþleçleri ve anlamlarý</b></p><table cellspacing="1" cellpadding="3" summary="Düzenli ifade iþleçleri ve anlamlarý" width="100%" border="1"><colgroup><col></colgroup><tbody><tr><td align="left"><b><tt>[]</tt></b></td><td align="left">
aralýk belirtimi (Örn, <tt>[a-z]</tt>, <tt>a</tt> ile <tt>z</tt> arasýndaki bir harfi belirtir.)
</td></tr><tr><td align="left"><b><tt>\w</tt></b></td><td align="left">
harf ya da rakam; <tt>[0-9A-Za-z]</tt> ile ayný
</td></tr><tr><td align="left"><b><tt>\W</tt></b></td><td align="left">
ne harf ne de rakam
</td></tr><tr><td align="left"><b><tt>\s</tt></b></td><td align="left">
boþluk karakteri; <tt>[ \t\n\r\f]</tt> ile ayný
</td></tr><tr><td align="left"><b><tt>\S</tt></b></td><td align="left">
boþluklar dýþýnda herhangi bir karakter
</td></tr><tr><td align="left"><b><tt>\d</tt></b></td><td align="left">
rakam;  <tt>[0-9]</tt> ile ayný
</td></tr><tr><td align="left"><b><tt>\D</tt></b></td><td align="left">
rakamlar dýþýnda herhangi bir karakter
</td></tr><tr><td align="left"><b><tt>\b</tt></b></td><td align="left">
tersbölü (0x08) (sadece herhangi bir aralýk belirtilmiþse)
</td></tr><tr><td align="left"><b><tt>\b</tt></b></td><td align="left">
kelime içi sýnýr belirtimi (aralýk belirtiminin dýþýndayken)
</td></tr><tr><td align="left"><b><tt>\B</tt></b></td><td align="left">
kelime dýþý sýnýr belirtimi
</td></tr><tr><td align="left"><b><tt>*</tt></b></td><td align="left">
öncelediði ifadeyi sýfýr ya da daha fazla tekrarlar
</td></tr><tr><td align="left"><b><tt>+</tt></b></td><td align="left">
öncelediði ifadeyi bir ya da daha fazla tekrarlar
</td></tr><tr><td align="left"><b><tt>{m,n}</tt></b></td><td align="left">
öncelediði ifadeyi en az m en çok n kez tekrarlar
</td></tr><tr><td align="left"><b><tt>?</tt></b></td><td align="left">
öncelediði ifadeyi en fazla bir kere tekrarlar; <tt>{0,1}</tt> ile ayný
</td></tr><tr><td align="left"><b><tt>|</tt></b></td><td align="left">
önündeki veya ardýndaki ifade eþleþebilir
</td></tr><tr><td align="left"><b><tt>()</tt></b></td><td align="left">
gruplama iþleci
</td></tr></tbody></table></div>
  </p><p>
Bu ilginç lügat genelde <span class="wordasword"><i>düzenli ifadeler</i></span> olarak anýlýr. Ruby'de, Perl'de de olduðu gibi çift týrnak koymak yerine ters bölü iþareti kullanýlýr. Eðer daha önce düzenli ifadelerle karþýlaþmadýysanýz muhtemelen <i>düzenli</i> hiç birþey göremeyeceksiniz ancak alýþmak için biraz zamana ihtiyacýnýz olduðunu unutmayýn. Düzenli ifadeler, metin dizgeleri üzerinde arama, eþleþtirme ve bu gibi diðer iþlerle uðraþýrken sizi baþ aðrýsýndan (ve satýrlarca koddan) kurtaran gözle görülür bir güce sahiptir.
  </p><p>
Örneðin aþaðýdaki tanýma uyan bir dizge aradýðýmýzý farzedelim:
"Küçük f harfiyle baþlayan, ardýndan bir büyük harf gelen bundan sonra küçük harf haricinde herhangi bir karakterle devam eden" bir dizge.
Eðer deneyimli bir C yazýlýmcýsýysanýz muhtemelen þimdiden kafanýzca binlerce satýr kod yazmýþtýnýz, öyle deðil mi? Kabul edin, kendinize güçlükle yardým edebilirsiniz. Ancak Ruby'de dizgeyi sadece  þu düzenli ifadeyle sýnamanýz yeterli olacaktýr: <b><tt>/^f[A-Z](^[a-z])*$/</tt></b>.
  </p><p>
Köþeli parantezler içindeki bir onaltýlýk sayýya ne dersiniz? Hiç sorun deðil.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">def chab(s)</tt>   # "parantezler içinde onaltýlýk içerir"
    <tt>|   </tt><tt class="empinput">(s =~ /&lt;0(x|X)(\d|[a-f]|[A-F])+&gt;/) != nil</tt>
    <tt>| </tt><tt class="empinput">end</tt>
   <tt class="empoutput">nil</tt>
<tt>ruby&gt; </tt> <tt class="empinput"> chab "Bu deðil."</tt>
   <tt class="empoutput">false</tt>
<tt>ruby&gt; </tt> <tt class="empinput"> chab "Belki bu? {0x35}"</tt>    # kaþlý ayraçlar kullanýlmamalýydý
   <tt class="empoutput">false</tt>
<tt>ruby&gt; </tt> <tt class="empinput"> chab "Ya da bu? &lt;0x38z7e&gt;"</tt>    # onaltýlýk sayý deðil
   <tt class="empoutput">false</tt>
<tt>ruby&gt; </tt> <tt class="empinput"> chab "Tamam, bu: &lt;0xfc0004&gt;."</tt>
   <tt class="empoutput">true</tt>
</pre> </td></tr></table></div>
  </p><p>
Düzenli ifadeler baþlangýçta alengirli gibi gözükse de kýsa süre içinde istediðinizi yapabilme konusunda yol katedeceksiniz.
  </p><p>
Aþaðýda düzenli ifadeleri anlamanýza yarayacak küçük bir yazýlým bulunuyor. <b><tt>regx.rb</tt></b> olarak kaydedin ve komut satýrýna <b><tt>ruby regx.rb</tt></b> yazarak çalýþtýrýn.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">#ANSI terminal gerektirir!

st = "\033[7m"
en = "\033[m"

while TRUE
  print "str&gt; "
  STDOUT.flush
  str = gets
  break if not str
  str.chop!
  print "pat&gt; "
  STDOUT.flush
  re = gets
  break if not re
  re.chop!
  str.gsub! re, "#{st}\\&amp;#{en}"
  print str, "\n"
end
print "\n"
</pre> </td></tr></table></div>
  </p><p>
Yazýlým bir tanesi dizge diðeri de düzenli ifade olmak üzere iki girdi alýr.
Dizge verilen düzenli ifade ile sýnanýr ve bütün uyuþan sonuçlar listelenir. Þu an ayrýntýlara ilgilenmeyin, bu kodun analizini daha sonra yapacaðýz.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">str&gt; foobar
pat&gt; ^fo+
<tt class="empinput">foo</tt>bar
~~~
</pre> </td></tr></table></div>
  </p><p>
Programýn çýktýsýnda gördüðünüz <tt>~~~</tt> ile iþaretli parça çýktýda artalan ve önalan renkleri yerdeðiþtirmiþ olarak çýktýlanýr.
  </p><p>
Bir kaç girdi daha deneyelim.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">str&gt; abc012dbcd555
pat&gt; \d
abc<tt class="empinput">012</tt>dbcd<tt class="empinput">555</tt>
   ~~~    ~~~
</pre> </td></tr></table></div>
  </p><p>
Eðer þaþýrdýysanýz sayfanýn baþýndaki tabloya tekrar göz atabilirsiniz: <b><tt>\d</tt></b>'nin <b><tt>d</tt></b> karakteriyle hiçbir baðlantýsý yoktur, sadece bir rakamý eþleþtirmekte kullanýlýr.
  </p><p>
Eðer istediðimiz kriterlere uygun birden fazla yol varsa ne olur?
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">str&gt; foozboozer
pat&gt; f.*z
<tt class="empinput">foozbooz</tt>er
~~~~~~~~
</pre> </td></tr></table></div>
  </p><p>
Düzenli ifadeler olabilecek en uzun dizgeyi döndürdüðü için <b><tt>fooz</tt></b>'un yerine <b><tt>foozbooz</tt></b> eþleþtirildi.
  </p><p>
Aþaðýda iki nokta üstüste iþaretiyle sýnýrlandýrýlmýþ bir zaman alaný bulunuyor:
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen">str&gt; Wed Feb  7 08:58:04 JST 1996
pat&gt; [0-9]+:[0-9]+(:[0-9]+)?
Wed Feb  7 <tt class="empinput">08:58:04</tt>  JST 1996
           ~~~~~~~~
</pre> </td></tr></table></div>
  </p><p>
"<b><tt>=~</tt></b>" iþleci bulduðu dizgenin konumunu döndüren, aksi halde <b><tt>nil</tt></b> döndüren düzenli ifadedir.
  </p><p>
<div class="screen" align="right"><table width="95%" cellpadding="5" cellspacing="1" border="0" class="preoutline"><tr class="preinline"><td> <pre class="screen"><tt>ruby&gt; </tt><tt class="empinput">"abcdef" =~ /d/</tt>
  <tt class="empoutput">3</tt>
<tt>ruby&gt; </tt><tt class="empinput">"aaaaaa" =~ /d/</tt>
  <tt class="empoutput">nil</tt>
</pre> </td></tr></table></div>
   </p></dd></div></dl><h1></h1><table width="100%" summary="Navigation header" cellpadding="1" cellspacing="0" border="0"><tr><td bgcolor="black" class="navoutline"><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td bgcolor="white" class="navinline"><table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td width="40%" align="left"><a accesskey="p" href="../howto/ruby-ug-strings.html">Önceki</a> </td><td width="20%" align="center"><a accesskey="u" href="../howto/ruby-ug.html">Üst Ana Baþlýk</a></td><td width="40%" align="right"> <a accesskey="n" href="../howto/ruby-ug-arrays.html">Sonraki</a></td></tr><tr><td width="40%" align="left" valign="top">Dizgeler </td><td width="20%" align="center"><a accesskey="h" href="../KiTAPLIK/index.html">Baþlangýç</a></td><td width="40%" align="right" valign="top"> Diziler</td></tr><tr><td colspan="3" align="center">
                  Bir <a href="http://www.belgeler.org/">Linux Kitaplýðý</a> Sayfasý
                </td></tr></table></td></tr></table></td></tr></table></body></html>
